__NUXT_JSONP__("/view/%E5%88%86%E5%B8%83%E5%BC%8F/20200703/API%E7%BD%91%E5%85%B3%E6%80%BB%E7%BB%93", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){return {data:[{navbarConfig:{brandText:n,brandUrl:"\u002Fblog-code\u002F",navs:[{text:"文章",url:"\u002Fblog-code\u002Fpage\u002F1\u002F"},{text:"归档",url:"\u002Fblog-code\u002Farchive\u002F0\u002F"},{text:"画画",url:"\u002Fblog-code\u002Fhtml\u002Fhua.html"},{text:"开源",url:"\u002Fblog-code\u002Fhttps:\u002Fgithub.com\u002Fcellargalaxy\u002Fblog-vue"}]},homeConfig:{brandInterval:10000,brands:[{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F21\u002FmMEAnwY5XPC2pFb.jpg",title:"日常",texts:["我们所度过的每个平凡的日常，也许就是连续不断发生的奇迹。","日々、私たちが過ごしている日常は、実は奇跡の連続なのかもしれない。"]},{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F04\u002F19\u002FH1MmXb9xPcYEhT2.jpg",title:"昨日之歌",texts:["时间梭梭箭如飞，人道漫漫步蹒跚","人間そんな変わるもんじゃないのに、月日ばっかどんどん過ぎて"]}],navs:[{text:"Github",url:"https:\u002F\u002Fgithub.com\u002Fcellargalaxy\u002F"}]},pageFootConfig:{lines:[[{text:"Copyright © 2017-? ."},{text:"备案？不存在的"},{text:"Powered by Nuxt.js & Github"}]]},buildTime:new Date(1652020530894),siteName:n,file:{slug:o,description:"服务接入\nAPI网关最重要的功能就是提供服务的统一接入。\n通常是外部服务统一经过API网关请求到内部不同的服务。\n这样内部服务不会直接暴露在外部，保护了内部服务的安全。\n外部服务也只需要面向API网关进行对接即可，不用跟内部各种异构的服务打交道。",createdAt:p,updatedAt:p,toc:[],body:{type:q,children:[{type:b,tag:g,props:{id:m},children:[{type:b,tag:e,props:{href:r,ariaHidden:h,tabIndex:i},children:[{type:b,tag:j,props:{className:[k,l]},children:[]}]},{type:a,value:m}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:s}]},{type:a,value:c},{type:a,value:c},{type:b,tag:g,props:{id:t},children:[{type:b,tag:e,props:{href:"#%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82",ariaHidden:h,tabIndex:i},children:[{type:b,tag:j,props:{className:[k,l]},children:[]}]},{type:a,value:t}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"API网关流量往往很大，为了能达到更大的吞吐量，需要使用IO多路复用。\n一般有Tomcat+NIO和Netty+NIO两种实现。Netty需要自己处理HTTP，但是Netty性能比Tomcat高。"}]},{type:a,value:c},{type:b,tag:g,props:{id:u},children:[{type:b,tag:e,props:{href:"#%E9%93%BE%E5%BC%8F%E5%A4%84%E7%90%86",ariaHidden:h,tabIndex:i},children:[{type:b,tag:j,props:{className:[k,l]},children:[]}]},{type:a,value:u}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"API网关除了提供统一的接入以外，还能对请求做一些统一的处理。\n使用责任链模式，在反代的处理链设置前置过滤器、路由过滤器、后置过滤器和异常过滤器。\n可以灵活对请求进行自定义处理。"}]},{type:a,value:c},{type:b,tag:v,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"请求鉴权：服务鉴权一般与业务逻辑无关，统一在API网关里进行鉴权以保护内部服务"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"请求监控：对请求的数量，时间等信息进行上报监控"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"请求缓存：对于一些幕等的请求，可以缓存在网关里，减少内部服务的压力"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"协议转换：如果内部服务的rpc调用使用的是非http协议，那么就要将rpc转换为http"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"流量控制"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"熔断降级"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{id:w},children:[{type:b,tag:e,props:{href:"#%E4%B8%9A%E5%8A%A1%E9%9A%94%E7%A6%BB",ariaHidden:h,tabIndex:i},children:[{type:b,tag:j,props:{className:[k,l]},children:[]}]},{type:a,value:w}]},{type:a,value:c},{type:b,tag:v,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"信号量隔离：信号量隔离只是限制了总的并发数，如果有服务超时了，依然会把全部并发数给占用了，影响其他正常的服务"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"线程池隔离：不同业务之间使用不同的线程池来进行隔离。即时某个业务出现问题，也只会占满自己的线程池，而不会影响到其他业务"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"集群隔离：不同的集群提供不同的服务，通过集群本身进行隔离"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{id:x},children:[{type:b,tag:e,props:{href:"#%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0",ariaHidden:h,tabIndex:i},children:[{type:b,tag:j,props:{className:[k,l]},children:[]}]},{type:a,value:x}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"对上面API网关的功能进行配置和监控。"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"参考文章："}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:e,props:{href:"https:\u002F\u002Fgithub.com\u002FSnailclimb\u002FJavaGuide\u002Fblob\u002Fmaster\u002Fdocs\u002Fsystem-design\u002Fmicro-service\u002FAPI%E7%BD%91%E5%85%B3.md",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"API网关.md"}]}]}]},excerpt:{type:q,children:[{type:b,tag:g,props:{id:m},children:[{type:b,tag:e,props:{ariaHidden:h,href:r,tabIndex:i},children:[{type:b,tag:j,props:{className:[k,l]},children:[]}]},{type:a,value:m}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:s}]}]},dir:y,path:"\u002F分布式\u002F20200703\u002FAPI网关总结",extension:".md",title:o,url:"\u002Fblog-code\u002Fview\u002F分布式\u002F20200703\u002FAPI网关总结",createAt:new Date(1593734400000),updateAt:new Date(1593734400000),attributes:[{name:"createAt",value:z},{name:"updateAt",value:z},{name:"sort",value:y,url:"\u002Fblog-code\u002Fpage\u002F分布式\u002F20200703\u002F1\u002F"}]}}],fetch:{},mutations:void 0}}("text","element","\n","li","a","p","h1","true",-1,"span","icon","icon-link","服务接入","无名の窝","API网关总结","2020-07-03T00:00:00.000Z","root","#%E6%9C%8D%E5%8A%A1%E6%8E%A5%E5%85%A5","API网关最重要的功能就是提供服务的统一接入。\n通常是外部服务统一经过API网关请求到内部不同的服务。\n这样内部服务不会直接暴露在外部，保护了内部服务的安全。\n外部服务也只需要面向API网关进行对接即可，不用跟内部各种异构的服务打交道。","异步请求","链式处理","ul","业务隔离","管理平台","\u002F分布式\u002F20200703","2020-07-03")));