__NUXT_JSONP__("/view/%E6%A1%86%E6%9E%B6/20181024/Quartz%E6%A1%86%E6%9E%B6%E7%9A%84%E4%BD%BF%E7%94%A8", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT){return {data:[{siteConfig:{siteName:ad,siteHost:"https:\u002F\u002Fcellargalaxy.github.io",basePath:"\u002Fblog-code\u002F",navs:[{text:"文章",url:"\u002Fblog-code\u002Fpage\u002F1\u002F"},{text:"归档",url:"\u002Fblog-code\u002Farchive\u002F0\u002F"},{text:"画画",url:"\u002Fblog-code\u002Fhtml\u002Fhua.html"},{text:"开源",url:"\u002Fblog-code\u002Fhttps:\u002Fgithub.com\u002Fcellargalaxy\u002Fblog-vue"}],pageSize:10,urlReplace:{"^/file/blog/code":"https:\u002F\u002Foracleamd1.dynv6.net\u002Ffile\u002Ffile\u002Fblog\u002Fcode"},backgroundImage:{duration:ae,fade:1000,images:[{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FcofTzDQXitjeVZ6.jpg",description:af,type:A},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FsfaRJ2lVeM3NDbE.jpg",description:af,type:A},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F26\u002FKybiTdftam5Su7x.jpg",description:"青春猪头-双葉理央",type:A},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F09\u002F08\u002FxdX73nfs24qgOYk.jpg",description:"京吹-明日香,久美子",type:A},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F14\u002FMAiruNcEFW2HYtg.jpg",description:"终将成为你-七海灯子,小糸侑",type:A},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F05\u002FEojdAxTDJsFpbPw.jpg",description:"玉子市场-北白川玉子",type:A},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F31\u002FAXxwJDRS9fmN2uU.jpg",description:"fate_hf-弓道馆",type:A},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F01\u002FaHhVObpJus6dnM4.jpg",description:"fate_hf-樱花树",type:A}]}},homeConfig:{brandInterval:ae,brands:[{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F21\u002FmMEAnwY5XPC2pFb.jpg",title:"日常",texts:["我们所度过的每个平凡的日常，也许就是连续不断发生的奇迹。","日々、私たちが過ごしている日常は、実は奇跡の連続なのかもしれない。"]},{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F04\u002F19\u002FH1MmXb9xPcYEhT2.jpg",title:"昨日之歌",texts:["时间梭梭箭如飞，人道漫漫步蹒跚","人間そんな変わるもんじゃないのに、月日ばっかどんどん過ぎて"]}],navs:[{text:"Github",url:"https:\u002F\u002Fgithub.com\u002Fcellargalaxy\u002F"}]},pageFootConfig:{lines:[[{text:"Copyright © 2017-? ."},{text:"备案？不存在的"},{text:"Powered by Nuxt.js & Github"}]]},buildTime:new Date(1661351972705),siteName:ad,file:{slug:ag,description:"",createdAt:ah,updatedAt:ah,toc:[{id:ai,depth:M,text:aj},{id:ak,depth:M,text:K},{id:al,depth:M,text:N}],body:{type:am,children:[{type:a,value:f},{type:b,tag:O,props:{id:"quartz框架的主要类"},children:[{type:b,tag:u,props:{href:"#quartz%E6%A1%86%E6%9E%B6%E7%9A%84%E4%B8%BB%E8%A6%81%E7%B1%BB",ariaHidden:B,tabIndex:G},children:[{type:b,tag:c,props:{className:[H,I]},children:[]}]},{type:a,value:"Quartz框架的主要类"}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"Quartz框架有四个主要类\u002F接口：Scheduler(任务调度器)、Job(任务)、JobDetail和Trigger(触发器)。分别用于调度任务，定义业务逻辑，业务逻辑执行实例和触发条件。这里可能搞不清的是Job和JobDetail。Job用于定义与框架和执行方式无关业务逻辑。而JobDetail除了保护Job的业务逻辑以外，还保护这个业务逻辑所处理的数据。因此，一个Job的业务逻辑可以被用于不同数据的JobDetail上，即Job和JobDetail是一对多的关系。而JobDetail与Trigger一一对应。Scheduler监控全部的Trigger来决定是否要执行某个JobDetail。"}]},{type:a,value:f},{type:b,tag:P,props:{id:ai},children:[{type:b,tag:u,props:{href:"#job%E4%B8%8Ejobdetail",ariaHidden:B,tabIndex:G},children:[{type:b,tag:c,props:{className:[H,I]},children:[]}]},{type:a,value:aj}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"Job是个接口，只有一个叫execute的方法。业务逻辑需要我们实现Job写在这个方法里。除了运行时异常，这个方法只允许抛JobExecutionException。这个异常会让Quartz做出不同的异常处理策略，下面会说到。execute方法还有个入参JobExecutionContext。这个对象最重要的是能通过getMergedJobDataMap方法，获取一个JobDataMap对象。JobDataMap实现了Map，能获取外部传入的数据，以利于业务逻辑进行处理。并且，这些数据也能通过setter方法让Quartz注入。Job默认是无状态的。给Job添加@DisallowConcurrentExecution注解会让Job变成单例。而@PersistJobDataAfterExecution注解则会更新JobDetail的JobDataMap中存储的数据。"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,J]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,"doc-comment",q]},children:[{type:a,value:"\u002F**\n * "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"@author"}]},{type:a,value:" cellargalaxy\n * "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"@time"}]},{type:a,value:" 2018\u002F10\u002F23\n *\u002F"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ao}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"implements"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"Job"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,"annotation",e]},children:[{type:a,value:"@Override"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"void"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"execute"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"JobExecutionContext"}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"throws"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"任务开始执行\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"JobDataMap"}]},{type:a,value:" jobDataMap "},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"getMergedJobDataMap"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"for"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"Map"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"Entry"}]},{type:b,tag:c,props:{className:[d,"generics"]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"\u003C"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"String"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"Object"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"\u003E"}]}]},{type:a,value:" entry "},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:":"}]},{type:a,value:" jobDataMap"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"entrySet"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:"\n            "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"entry"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"getKey"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:ar}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\" : \""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:ar}]},{type:a,value:" entry"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"getValue"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:F}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"任务执行完成\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:F}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:F}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"而JobDetail的使用则是下面这样。首先需要绑定使用哪个Job的class。然后在withIdentity方法里设定这个JobDetail的名字和组名。以便于以后对这个JobDetail进行查询获取其他操作。也可以通过usingJobData方法给Job里的业务逻辑传递数据。"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,J]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:as}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:b,tag:c,props:{className:[d,"namespace"]},children:[{type:a,value:"org"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"quartz"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]}]},{type:a,value:"JobBuilder"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"newJob"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"myJob\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"iKey\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"iValue\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:P,props:{id:ak},children:[{type:b,tag:u,props:{href:"#trigger",ariaHidden:B,tabIndex:G},children:[{type:b,tag:c,props:{className:[H,I]},children:[]}]},{type:a,value:K}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"Trigger用于指定JobDetail的执行时间。可以设定一个优先级priority，用于当多个任务的触发时间相同，但资源不够的时候先触发那些任务。常用的有两种。"}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"SimpleTrigger用于间隔一段时间来重复执行。"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,J]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:K}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aw}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"startAt"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"myTimeToStartFiring"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F开始执行的时间，当然也有结束时间可以设定"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"simpleSchedule"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"withIntervalInSeconds"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,ay]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F每隔十秒"}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"withRepeatCount"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,ay]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F重复十次，永远用repeatForever方法"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aC}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"CronTrigger则通过指定cron来执行。"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,J]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:K}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aw}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"cronSchedule"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"0 42 10 * * ?\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F指定cron"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aC}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:P,props:{id:al},children:[{type:b,tag:u,props:{href:"#scheduler",ariaHidden:B,tabIndex:G},children:[{type:b,tag:c,props:{className:[H,I]},children:[]}]},{type:a,value:N}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"Scheduler由他的工程类SchedulerFactory创建。常用的是StdScheduler。"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,J]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"SchedulerFactory"}]},{type:a,value:" schedulerFactory "},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"StdSchedulerFactory"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:N}]},{type:a,value:" scheduler "},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:" schedulerFactory"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"getScheduler"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:as}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:K}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F添加任务"}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"scheduleJob"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"jobDetail"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:" trigger"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F调用start之后任务才会开始执行"}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"start"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F直到调用shutdown"}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"shutdown"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:O,props:{id:aF},children:[{type:b,tag:u,props:{href:"#%E6%BF%80%E6%B4%BB%E5%A4%B1%E8%B4%A5%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5",ariaHidden:B,tabIndex:G},children:[{type:b,tag:c,props:{className:[H,I]},children:[]}]},{type:a,value:aF}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"可以在配置文件quartz.properties里设定一个参数misfireThreshold，单位毫秒。当一个任务由于各种原因（调度器被关闭\u002F线程不够）无法在指定时间执行，Quartz最多等待misfireThreshold毫秒，如果还是等不到机会执行，则判为激活失败。"}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"激活失败的处理策略对于不同的Scheduler略有不同。全部Scheduler的默认使用MISFIRE_INSTRUCTION_SMART_POLICY，即“聪明策略”。这个聪明策略的策略是："}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,_]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"如果任务不重复执行：\n    MISFIRE_INSTRUCTION_FIRE_NOW\n如果任务永远执行：\n    MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT\n如果任务重复执行且有限：\n    MISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_EXISTING_REPEAT_COUNT\n"}]}]}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"SimpleTrigger的策略："}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,_]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"MISFIRE_INSTRUCTION_FIRE_NOW 立即执行\n\nMISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT 下一个执行点开始执行，过期作废\nMISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_REMAINING_COUNT 立即执行，过期作废\n\nMISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_EXISTING_COUNT 下一个执行点开始执行，并重复到指定的次数\nMISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_EXISTING_COUNT 立即执行，并重复到指定的次数\n\nMISFIRE_INSTRUCTION_IGNORE_MISFIRE_POLICY 过期作废，按策略执行\n"}]}]}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"CronTrigger的策略："}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,_]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"MISFIRE_INSTRUCTION_FIRE_ONCE_NOW 立即执行，然后按计划执行\nMISFIRE_INSTRUCTION_DO_NOTHING 目前不执行，然后按计划执行\n"}]}]}]},{type:a,value:f},{type:b,tag:O,props:{id:aG},children:[{type:b,tag:u,props:{href:"#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86",ariaHidden:B,tabIndex:G},children:[{type:b,tag:c,props:{className:[H,I]},children:[]}]},{type:a,value:aG}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"异常的处理能够通过抛出的JobExecutionException的方法来设置。"}]},{type:a,value:f},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,J]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F捕获异常，立即重新执行任务"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aH}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aK}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F立即重新执行任务"}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"setRefireImmediately"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,aP]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aQ}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:F}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F捕获异常，取消全部任务"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aH}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:F}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aK}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"\u002F\u002F取消全部跟这个Job有关的trigger，避免再执行这个trigger"}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"setUnscheduleAllTriggers"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,aP]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aQ}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:F}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:a,value:"参考文献："}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:b,tag:u,props:{href:"https:\u002F\u002Fxuzongbao.gitbooks.io\u002Fquartz\u002Fcontent\u002F",rel:[$,aa,ab],target:ac},children:[{type:a,value:"作业调度系统—Quarzt"}]}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:b,tag:u,props:{href:"https:\u002F\u002Fwww.cnblogs.com\u002Fpzy4447\u002Fp\u002F5201674.html",rel:[$,aa,ab],target:ac},children:[{type:a,value:"Quartz的misfire处理机制分析"}]}]},{type:a,value:f},{type:b,tag:p,props:{},children:[{type:b,tag:u,props:{href:"https:\u002F\u002Fsegmentfault.com\u002Fa\u002F1190000009141079",rel:[$,aa,ab],target:ac},children:[{type:a,value:"Quartz 2 定时任务（三）：异常与中断处理"}]}]}]},excerpt:{type:am,children:[]},dir:aS,path:"\u002F框架\u002F20181024\u002FQuartz框架的使用",extension:".md",title:ag,url:"\u002Fblog-code\u002Fview\u002F框架\u002F20181024\u002FQuartz框架的使用\u002F",createAt:new Date(1540339200000),updateAt:new Date(1540339200000),attributes:[{name:"createAt",value:aT},{name:"updateAt",value:aT},{name:"sort",value:aS,url:"\u002Fblog-code\u002Fpage\u002F框架\u002F20181024\u002F1\u002F"}]}}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation","\n"," ","(",")",".","function","class-name","keyword","\n    ",";","p","comment","string","operator","=","a","div","nuxt-content-highlight","pre","line-numbers","code","wide","true",",","{","\n        ","}",-1,"icon","icon-link","language-java","Trigger","JobExecutionException",2,"Scheduler","h1","h2","System","out","println","withIdentity","\"group1\"","usingJobData","build"," trigger ","new","\nscheduler","language-text","nofollow","noopener","noreferrer","_blank","无名の窝",10000,"青春猪头-牧之原翔子-江之岛","Quartz框架的使用","2018-10-24T00:00:00.000Z","job与jobdetail","Job与JobDetail","trigger","scheduler","root","public","class","HelloJob"," context","+","JobDetail"," jobDetail ","newTrigger","\"trigger3\"","\u002F\u002F名字和组名","withSchedule","number","10","\"yKey\"","\"yValue\"","\u002F\u002FTrigger也可以给Job传递数据","\n\n","null","激活失败处理策略","异常处理","try","\n    \n","catch","Exception"," e"," e2 ","e","\n    e2","boolean","throw"," e2","\u002F框架\u002F20181024","2018-10-24")));