__NUXT_JSONP__("/view/分布式/20200715/虚拟IP", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return {data:[{siteConfig:{siteName:l,siteHost:"https:\u002F\u002Fcellargalaxy.github.io",basePath:"\u002Fblog-code\u002F",navs:[{text:"文章",url:"\u002Fblog-code\u002Fpage\u002F1\u002F"},{text:"归档",url:"\u002Fblog-code\u002Farchive\u002F0\u002F"},{text:"画画",url:"\u002Fblog-code\u002Fhtml\u002Fhua.html"},{text:"开源",url:"\u002Fblog-code\u002Fhttps:\u002Fgithub.com\u002Fcellargalaxy\u002Fblog-vue"}],pageSize:10,urlReplace:{"^/file/blog/code":"https:\u002F\u002Foracleamd1.dynv6.net\u002Ffile\u002Ffile\u002Fblog\u002Fcode"},backgroundImage:{duration:m,fade:1000,images:[{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FcofTzDQXitjeVZ6.jpg",description:n,type:d},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FsfaRJ2lVeM3NDbE.jpg",description:n,type:d},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F26\u002FKybiTdftam5Su7x.jpg",description:"青春猪头-双葉理央",type:d},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F09\u002F08\u002FxdX73nfs24qgOYk.jpg",description:"京吹-明日香,久美子",type:d},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F14\u002FMAiruNcEFW2HYtg.jpg",description:"终将成为你-七海灯子,小糸侑",type:d},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F05\u002FEojdAxTDJsFpbPw.jpg",description:"玉子市场-北白川玉子",type:d},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F31\u002FAXxwJDRS9fmN2uU.jpg",description:"fate_hf-弓道馆",type:d},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F01\u002FaHhVObpJus6dnM4.jpg",description:"fate_hf-樱花树",type:d}]}},homeConfig:{brandInterval:m,brands:[{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F21\u002FmMEAnwY5XPC2pFb.jpg",title:"日常",texts:["我们所度过的每个平凡的日常，也许就是连续不断发生的奇迹。","日々、私たちが過ごしている日常は、実は奇跡の連続なのかもしれない。"]},{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F04\u002F19\u002FH1MmXb9xPcYEhT2.jpg",title:"昨日之歌",texts:["时间梭梭箭如飞，人道漫漫步蹒跚","人間そんな変わるもんじゃないのに、月日ばっかどんどん過ぎて"]}],navs:[{text:"Github",url:"https:\u002F\u002Fgithub.com\u002Fcellargalaxy\u002F"}]},pageFootConfig:{lines:[[{text:"Copyright © 2017-? ."},{text:"备案？不存在的"},{text:"Powered by Nuxt.js & Github"}]]},buildTime:new Date(1684678590205),siteName:l,file:{slug:o,description:"",createdAt:p,updatedAt:p,toc:[],body:{type:q,children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"在TCP\u002FIP架构里，IP是逻辑地址，MAC是物理地址，这之间通过ARP地址转换协议进行映射。\nARP协议简单的说就是在局域网里发广播，询问哪台设备持有此IP，并且告知一下MAC。\n因此，MAC是与某一硬件网卡所绑定的，而IP则不必。\n所以虚拟IP则是一个没有分配到具体网卡的IP，其高可用流程如下："}]},{type:a,value:c},{type:b,tag:"ol",props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"有服务器A和服务器B，现在服务器A是主服务器"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"有数据请求到虚拟IP，路由器通过地址转换协议询问虚拟IP对应的MAC，服务器A应答，因此虚拟IP指向服务器A"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"当服务器B监控服务器A，或者服务器A会向服务器B发送心跳"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"服务器B发现服务器A宕机，服务器B则请求路由器，让路由器的虚拟IP映射为自己的MAC，完成虚拟IP的映射切换"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"实际上，可以使用Keepalived这个软件来实现虚拟IP的高可用方案。"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"参考文章："}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fxiaobaoqiu.github.io\u002Fblog\u002F2015\u002F04\u002F02\u002Fxu-ni-iphe-ippiao-yi\u002F",rel:[h,i,j],target:k},children:[{type:a,value:"虚拟IP和IP漂移"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{href:"https:\u002F\u002Fwww.cnblogs.com\u002Fjmcui\u002Fp\u002F13055283.html",rel:[h,i,j],target:k},children:[{type:a,value:"虚拟IP原理及使用"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.xumenger.com\u002Fvirtual-ip-20190220\u002F",rel:[h,i,j],target:k},children:[{type:a,value:"虚拟IP技术"}]}]}]},excerpt:{type:q,children:[]},dir:r,path:"\u002F分布式\u002F20200715\u002F虚拟IP",extension:".md",title:o,url:"\u002Fblog-code\u002Fview\u002F分布式\u002F20200715\u002F虚拟IP\u002F",createAt:new Date(1594771200000),updateAt:new Date(1594771200000),attributes:[{name:"createAt",value:s},{name:"updateAt",value:s},{name:"sort",value:r,url:"\u002Fblog-code\u002Fpage\u002F分布式\u002F20200715\u002F1\u002F"}]}}],fetch:{},mutations:void 0}}("text","element","\n","wide","p","li","a","nofollow","noopener","noreferrer","_blank","无名の窝",10000,"青春猪头-牧之原翔子-江之岛","虚拟IP","2020-07-15T00:00:00.000Z","root","\u002F分布式\u002F20200715","2020-07-15")));