__NUXT_JSONP__("/view/java/20180319/玩耍一下jstack，jinfo，jmap", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at){return {data:[{siteConfig:{siteName:L,siteHost:"https:\u002F\u002Fcellargalaxy.github.io",basePath:"\u002Fblog-code\u002F",navs:[{text:"文章",url:"\u002Fblog-code\u002Fpage\u002F1\u002F"},{text:"归档",url:"\u002Fblog-code\u002Farchive\u002F0\u002F"},{text:"画画",url:"\u002Fblog-code\u002Fhtml\u002Fhua.html"},{text:"开源",url:"\u002Fblog-code\u002Fhttps:\u002Fgithub.com\u002Fcellargalaxy\u002Fblog-vue"}],pageSize:10,urlReplace:{"^/file/blog/code":"https:\u002F\u002Foracleamd1.dynv6.net\u002Ffile\u002Ffile\u002Fblog\u002Fcode"},backgroundImage:{duration:M,fade:1000,images:[{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FcofTzDQXitjeVZ6.jpg",description:N,type:n},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FsfaRJ2lVeM3NDbE.jpg",description:N,type:n},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F26\u002FKybiTdftam5Su7x.jpg",description:"青春猪头-双葉理央",type:n},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F09\u002F08\u002FxdX73nfs24qgOYk.jpg",description:"京吹-明日香,久美子",type:n},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F14\u002FMAiruNcEFW2HYtg.jpg",description:"终将成为你-七海灯子,小糸侑",type:n},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F05\u002FEojdAxTDJsFpbPw.jpg",description:"玉子市场-北白川玉子",type:n},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F31\u002FAXxwJDRS9fmN2uU.jpg",description:"fate_hf-弓道馆",type:n},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F01\u002FaHhVObpJus6dnM4.jpg",description:"fate_hf-樱花树",type:n}]}},homeConfig:{brandInterval:M,brands:[{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F21\u002FmMEAnwY5XPC2pFb.jpg",title:"日常",texts:["我们所度过的每个平凡的日常，也许就是连续不断发生的奇迹。","日々、私たちが過ごしている日常は、実は奇跡の連続なのかもしれない。"]},{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F04\u002F19\u002FH1MmXb9xPcYEhT2.jpg",title:"昨日之歌",texts:["时间梭梭箭如飞，人道漫漫步蹒跚","人間そんな変わるもんじゃないのに、月日ばっかどんどん過ぎて"]}],navs:[{text:"Github",url:"https:\u002F\u002Fgithub.com\u002Fcellargalaxy\u002F"}]},pageFootConfig:{lines:[[{text:"Copyright © 2017-? ."},{text:"备案？不存在的"},{text:"Powered by Nuxt.js & Github"}]]},buildTime:new Date(1676821003878),siteName:L,file:{slug:O,description:D,createdAt:P,updatedAt:P,toc:[],body:{type:Q,children:[{type:a,value:f},{type:b,tag:E,props:{id:R},children:[{type:b,tag:w,props:{href:"#jstack",ariaHidden:x,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:R}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"jstack用于查看java的某个进程的线程的堆栈信息，先来个死循环。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"由于图床有点bug，上传不了图片，所以就先盗别人的图顶着先了。"}]},{type:a,value:f},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,S]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:T}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"Jstack"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:V}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"if"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,ad]},children:[{type:a,value:"=="}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:"\n                "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"System"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"out"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"println"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,"string"]},children:[{type:a,value:"\"zhe me qiao\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"使用"},{type:b,tag:h,props:{},children:[{type:a,value:"top"}]},{type:a,value:"查看那个java进程占用cpu最多，得到进程pid"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:ae,props:{alt:D,"data-src":"https:\u002F\u002Foracleamd1.dynv6.net\u002Ffile\u002Ffile\u002Fblog\u002Fcode\u002F20180319\u002Fupload-images.jianshu.io-upload_images-2184951-b61659815716a054.png.1.png"},children:[]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"然后使用"},{type:b,tag:h,props:{},children:[{type:a,value:"top -Hp 进程pid"}]},{type:a,value:"获得此进程的全部线程"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:ae,props:{alt:D,"data-src":"https:\u002F\u002Foracleamd1.dynv6.net\u002Ffile\u002Ffile\u002Fblog\u002Fcode\u002F20180319\u002Fupload-images.jianshu.io-upload_images-2184951-831f6716e5801e63.png.1.png"},children:[]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"我们就可以发现cpu占用最大的线程的线程pid了，为了接下来好观察，我们需要使用"},{type:b,tag:h,props:{},children:[{type:a,value:"printf \"%x\\n\" 线程pid"}]},{type:a,value:"把线程pid转换为16进制。"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"最后使用"},{type:b,tag:h,props:{},children:[{type:a,value:"jstack 进程pid"}]},{type:a,value:"，就能查看此进程的线程的堆栈情况。为了找到我们需要的线程，线程的pid在信息里是在"},{type:b,tag:h,props:{},children:[{type:a,value:"nid"}]},{type:a,value:"后面的。但是我发现进行这个死循环一段时间之后就会自动爆出一下信息，然后jstack命令就会查询失败。我用的是jdk8，可能是新jdk的新功能吧。"}]},{type:a,value:f},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,A]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"root@cellargalaxy-Lenovo-G50-80:\u002Fusr\u002Flocal\u002Fjava\u002Fjdk1.8.0_131\u002Fbin# .\u002Fjstack 18287\n18287: Unable to open socket file: target process not responding or HotSpot VM not loaded\nThe -F option can be used when the target process is not responding\n"}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"例如下面这个片段，死循环线程pid是0x4770。"}]},{type:a,value:f},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,A]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"\"Finalizer\" #3 daemon prio=8 os_prio=0 tid=0x00007f0bec083800 nid=0x4777 in Object.wait() [0x00007f0bc74d2000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on \u003C0x00000000d6e08ec8\u003E (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\n    - locked \u003C0x00000000d6e08ec8\u003E (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\n    at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\n\n\"Reference Handler\" #2 daemon prio=10 os_prio=0 tid=0x00007f0bec07f000 nid=0x4776 in Object.wait() [0x00007f0bc75d3000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on \u003C0x00000000d6e06b68\u003E (a java.lang.ref.Reference$Lock)\n    at java.lang.Object.wait(Object.java:502)\n    at java.lang.ref.Reference.tryHandlePending(Reference.java:191)\n    - locked \u003C0x00000000d6e06b68\u003E (a java.lang.ref.Reference$Lock)\n    at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\n\n\"main\" #1 prio=5 os_prio=0 tid=0x00007f0bec009800 nid=0x4770 runnable [0x00007f0bf4082000]\n   java.lang.Thread.State: RUNNABLE\n    at Jstack.main(T.java:4)\n"}]}]}]},{type:a,value:f},{type:b,tag:E,props:{id:af},children:[{type:b,tag:w,props:{href:"#jinfo",ariaHidden:x,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"jinfo用来查看jvm的参数，用法是"},{type:b,tag:h,props:{},children:[{type:a,value:"jinfo 进程pid"}]},{type:a,value:"。然后他会罗列好多好多信息。例如执行"},{type:b,tag:h,props:{},children:[{type:a,value:"java Jstack -Xms30m -Xmx60m"}]}]},{type:a,value:f},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,A]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Attaching to process ID 19664, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.131-b11\nJava System Properties:\n\njava.vm.name = Java HotSpot(TM) 64-Bit Server VM    虚拟机\nuser.dir = \u002Ftmp        执行目录\njava.runtime.version = 1.8.0_131-b11        jre版本\nos.arch = amd64        cpu？\n\nos.name = Linux        系统\njava.class.version = 52.0        class版本\nsun.management.compiler = HotSpot 64-Bit Tiered Compilers        还是虚拟机\nuser.home = 用户目录\nuser.name = 用户名\nsun.java.command = Jstack -Xms30m -Xmx60m        执行java命令时添加的jvm参数\njava.version = 1.8.0_131        jdk版本？\n\nVM Flags:        其余乱七八糟的参数？\nNon-default VM flags: -XX:CICompilerCount=3 -XX:InitialHeapSize=130023424 -XX:MaxHeapSize=2069889024 -XX:MaxNewSize=689963008 -XX:MinHeapDeltaBytes=524288 -XX:NewSize=42991616 -XX:OldSize=87031808 -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps -XX:+UseParallelGC \nCommand line:\n"}]}]}]},{type:a,value:f},{type:b,tag:E,props:{id:ag},children:[{type:b,tag:w,props:{href:"#jmap",ariaHidden:x,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:ag}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"jmap用于查看内存情况，用法："},{type:b,tag:h,props:{},children:[{type:a,value:"jmap -heap 进程pid"}]}]},{type:a,value:f},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,S]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ah]},children:[{type:b,tag:c,props:{className:[d,"namespace"]},children:[{type:a,value:"java"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"util"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:K}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:T}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:I}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:V}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"throws"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"InterruptedException"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ak}]}]},{type:a,value:" linkedList"},{type:b,tag:c,props:{className:[d,ad]},children:[{type:a,value:"="}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:al}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ak}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,aa]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:"\n            linkedList"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"add"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:al}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"Thread"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"sleep"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,"number"]},children:[{type:a,value:"1"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"执行"},{type:b,tag:h,props:{},children:[{type:a,value:"java -Xms2m -Xmx2m -XX:+HeapDumpOnOutOfMemoryError HeapOOM"}]},{type:a,value:"，限制一下堆大小。然后好不容易试到了下面的jmap"}]},{type:a,value:f},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,A]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Attaching to process ID 21125, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.131-b11\n\nusing thread-local object allocation.\nParallel GC with 4 thread(s)\n\nHeap Configuration:\n   MinHeapFreeRatio         = 0\n   MaxHeapFreeRatio         = 100\n   MaxHeapSize              = 2097152 (2.0MB)        指定的最大对内存2m\n   NewSize                  = 1572864 (1.5MB)\n   MaxNewSize               = 1572864 (1.5MB)\n   OldSize                  = 524288 (0.5MB)        应该是指老年代大小\n   NewRatio                 = 2\n   SurvivorRatio            = 8            新生代那个复制算法的比例\n   MetaspaceSize            = 21807104 (20.796875MB)\n   CompressedClassSpaceSize = 1073741824 (1024.0MB)\n   MaxMetaspaceSize         = 17592186044415 MB\n   G1HeapRegionSize         = 0 (0.0MB)\n\nHeap Usage:\nPS Young Generation\nEden Space:\n   capacity = 524288 (0.5MB)                    应该是Eden的大小\n   used     = 335896 (0.32033538818359375MB)    Eden用了0.32m\n   free     = 188392 (0.17966461181640625MB)    Eden剩余0.179m\n   64.06707763671875% used                        Eden用了64%\nFrom Space:\n   capacity = 524288 (0.5MB)\n   used     = 515640 (0.49175262451171875MB)\n   free     = 8648 (0.00824737548828125MB)\n   98.35052490234375% used\nTo Space:\n   capacity = 524288 (0.5MB)\n   used     = 0 (0.0MB)\n   free     = 524288 (0.5MB)\n   0.0% used\nPS Old Generation                                老年代\n   capacity = 524288 (0.5MB)\n   used     = 385672 (0.36780548095703125MB)\n   free     = 138616 (0.13219451904296875MB)\n   73.56109619140625% used\n\n654 interned Strings occupying 44000 bytes.\n"}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"之后的情况"}]},{type:a,value:f},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,A]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Attaching to process ID 21125, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.131-b11\n\nusing thread-local object allocation.\nParallel GC with 4 thread(s)\n\nHeap Configuration:\n   MinHeapFreeRatio         = 0\n   MaxHeapFreeRatio         = 100\n   MaxHeapSize              = 2097152 (2.0MB)\n   NewSize                  = 1572864 (1.5MB)\n   MaxNewSize               = 1572864 (1.5MB)\n   OldSize                  = 524288 (0.5MB)\n   NewRatio                 = 2\n   SurvivorRatio            = 8\n   MetaspaceSize            = 21807104 (20.796875MB)\n   CompressedClassSpaceSize = 1073741824 (1024.0MB)\n   MaxMetaspaceSize         = 17592186044415 MB\n   G1HeapRegionSize         = 0 (0.0MB)\n\nHeap Usage:\nPS Young Generation\nEden Space:\n   capacity = 524288 (0.5MB)\n   used     = 524280 (0.49999237060546875MB)        Eden用了0.49m\n   free     = 8 (7.62939453125E-6MB)                Eden几乎没剩了\n   99.99847412109375% used                            Eden用了99%\nFrom Space:\n   capacity = 524288 (0.5MB)\n   used     = 515640 (0.49175262451171875MB)\n   free     = 8648 (0.00824737548828125MB)\n   98.35052490234375% used\nTo Space:\n   capacity = 524288 (0.5MB)\n   used     = 0 (0.0MB)\n   free     = 524288 (0.5MB)\n   0.0% used\nPS Old Generation            Eden满了，老年代的使用也增加，所剩无几了\n   capacity = 524288 (0.5MB)\n   used     = 454496 (0.433441162109375MB)\n   free     = 69792 (0.066558837890625MB)\n   86.688232421875% used\n\n654 interned Strings occupying 44000 bytes.\n"}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"参考文章：\n"},{type:b,tag:w,props:{href:"https:\u002F\u002Fwww.jianshu.com\u002Fp\u002F6690f7e92f27",rel:[am,an,ao],target:ap,title:aq},children:[{type:a,value:aq}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:w,props:{href:"https:\u002F\u002Fmy.oschina.net\u002Ffeichexia\u002Fblog\u002F196575",rel:[am,an,ao],target:ap,title:ar},children:[{type:a,value:ar}]}]}]},excerpt:{type:Q,children:[]},dir:as,path:"\u002Fjava\u002F20180319\u002F玩耍一下jstack，jinfo，jmap",extension:".md",title:O,url:"\u002Fblog-code\u002Fview\u002Fjava\u002F20180319\u002F玩耍一下jstack，jinfo，jmap\u002F",createAt:new Date(1521417600000),updateAt:new Date(1521417600000),attributes:[{name:"createAt",value:at},{name:"updateAt",value:at},{name:"sort",value:as,url:"\u002Fblog-code\u002Fpage\u002Fjava\u002F20180319\u002F1\u002F"}]}}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation","\n"," ","code","keyword","p","class-name","(",")","wide",".","div","nuxt-content-highlight","pre","line-numbers","{","function","}","a","true","\n        ",";","language-text","\n    ","HeapOOM","","h1",-1,"icon","icon-link","public","\n            ","LinkedList","无名の窝",10000,"青春猪头-牧之原翔子-江之岛","玩耍一下jstack，jinfo，jmap","2018-03-19T00:00:00.000Z","root","jstack","language-java","class","static","void","main","String","[","]"," args","while","boolean","Math","random","operator","img","jinfo","jmap","import","generics","\u003C","\u003E","new","nofollow","noopener","noreferrer","_blank","如何使用jstack分析线程状态","JVM性能调优监控工具jps、jstack、jmap、jhat、jstat、hprof使用详解","\u002Fjava\u002F20180319","2018-03-19")));