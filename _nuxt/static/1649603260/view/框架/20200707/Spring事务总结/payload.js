__NUXT_JSONP__("/view/%E6%A1%86%E6%9E%B6/20200707/Spring%E4%BA%8B%E5%8A%A1%E6%80%BB%E7%BB%93", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T){return {data:[{navbarConfig:{brandText:A,brandUrl:"\u002Fblog-code\u002F",navs:[{text:"文章",url:"\u002Fblog-code\u002Fpage\u002F1\u002F"},{text:"归档",url:"\u002Fblog-code\u002Farchive\u002F0\u002F"},{text:"画画",url:"\u002Fblog-code\u002Fhtml\u002Fhua.html"},{text:"开源",url:"\u002Fblog-code\u002Fhttps:\u002Fgithub.com\u002Fcellargalaxy\u002Fblog-vue"}]},homeConfig:{brandInterval:10000,brands:[{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F21\u002FmMEAnwY5XPC2pFb.jpg",title:"日常",texts:["我们所度过的每个平凡的日常，也许就是连续不断发生的奇迹。","日々、私たちが過ごしている日常は、実は奇跡の連続なのかもしれない。"]},{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F04\u002F19\u002FH1MmXb9xPcYEhT2.jpg",title:"昨日之歌",texts:["时间梭梭箭如飞，人道漫漫步蹒跚","人間そんな変わるもんじゃないのに、月日ばっかどんどん過ぎて"]}],navs:[{text:"Github",url:"https:\u002F\u002Fgithub.com\u002Fcellargalaxy\u002F"}]},pageFootConfig:{lines:[[{text:"Copyright © 2017-? ."},{text:"备案？不存在的"},{text:"Powered by Nuxt.js & Github"}]]},buildTime:new Date(1649603268625),siteName:A,file:{slug:B,description:"",createdAt:C,updatedAt:C,toc:[{id:D,depth:m,text:p},{id:E,depth:m,text:q},{id:F,depth:m,text:r},{id:G,depth:m,text:s},{id:H,depth:m,text:t},{id:I,depth:m,text:u},{id:J,depth:m,text:v}],body:{type:K,children:[{type:b,value:c},{type:a,tag:"h1",props:{id:L},children:[{type:a,tag:f,props:{href:"#%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E8%A1%8C%E4%B8%BA",ariaHidden:g,tabIndex:h},children:[{type:a,tag:i,props:{className:[j,k]},children:[]}]},{type:b,value:L}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"事务传播行为用于表示一个事务里嵌套了另外一个事务时，事务之间的回滚关系。\n而常用的有三个事务传播行为：REQUIRED、NESTED和REQUIRES_NEW。\n本质来说，事务的回滚和事务的传播，取决于："}]},{type:b,value:c},{type:a,tag:"ol",props:{},children:[{type:b,value:c},{type:a,tag:w,props:{},children:[{type:b,value:"是否有抛异常"}]},{type:b,value:c},{type:a,tag:w,props:{},children:[{type:b,value:"异常是否有经过spring的aop"}]},{type:b,value:c},{type:a,tag:w,props:{},children:[{type:b,value:"当异常经过多个aop时，这些aop事务的关系"}]},{type:b,value:c}]},{type:b,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:a,tag:"table",props:{},children:[{type:a,tag:"thead",props:{},children:[{type:a,tag:l,props:{},children:[{type:a,tag:x,props:{},children:[{type:b,value:"传播行为"}]},{type:a,tag:x,props:{},children:[{type:b,value:"父方法开启了事务"}]},{type:a,tag:x,props:{},children:[{type:b,value:"父方法没开启事务"}]}]}]},{type:a,tag:"tbody",props:{},children:[{type:a,tag:l,props:{},children:[{type:a,tag:d,props:{},children:[{type:a,tag:y,props:{},children:[{type:b,value:p}]}]},{type:a,tag:d,props:{},children:[{type:b,value:z}]},{type:a,tag:d,props:{},children:[{type:b,value:o}]}]},{type:a,tag:l,props:{},children:[{type:a,tag:d,props:{},children:[{type:b,value:t}]},{type:a,tag:d,props:{},children:[{type:b,value:z}]},{type:a,tag:d,props:{},children:[{type:b,value:"子方法无事务"}]}]},{type:a,tag:l,props:{},children:[{type:a,tag:d,props:{},children:[{type:b,value:s}]},{type:a,tag:d,props:{},children:[{type:b,value:z}]},{type:a,tag:d,props:{},children:[{type:b,value:M}]}]},{type:a,tag:l,props:{},children:[{type:a,tag:d,props:{},children:[{type:a,tag:y,props:{},children:[{type:b,value:q}]}]},{type:a,tag:d,props:{},children:[{type:b,value:"父子方法父子事务"}]},{type:a,tag:d,props:{},children:[{type:b,value:o}]}]},{type:a,tag:l,props:{},children:[{type:a,tag:d,props:{},children:[{type:b,value:u}]},{type:a,tag:d,props:{},children:[{type:b,value:N}]},{type:a,tag:d,props:{},children:[{type:b,value:"只回滚父事务，不回滚子事务"}]}]},{type:a,tag:l,props:{},children:[{type:a,tag:d,props:{},children:[{type:a,tag:y,props:{},children:[{type:b,value:r}]}]},{type:a,tag:d,props:{},children:[{type:b,value:N}]},{type:a,tag:d,props:{},children:[{type:b,value:o}]}]},{type:a,tag:l,props:{},children:[{type:a,tag:d,props:{},children:[{type:b,value:v}]},{type:a,tag:d,props:{},children:[{type:b,value:M}]},{type:a,tag:d,props:{},children:[{type:b,value:o}]}]}]}]},{type:b,value:c},{type:a,tag:n,props:{id:D},children:[{type:a,tag:f,props:{href:"#required",ariaHidden:g,tabIndex:h},children:[{type:a,tag:i,props:{className:[j,k]},children:[]}]},{type:b,value:p}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"如果父子方法都开启了事务，那么父方法和子方法是同一个事务。\n即无论异常经过的是父方法还是子方法的aop，父子方法都会回滚。\n如果只有子方法开启了事务，则子方法的事务各自独立，只回滚自己的。"}]},{type:b,value:c},{type:a,tag:n,props:{id:E},children:[{type:a,tag:f,props:{href:"#nested",ariaHidden:g,tabIndex:h},children:[{type:a,tag:i,props:{className:[j,k]},children:[]}]},{type:b,value:q}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"如果父子方法都开启了事务，父方法事务为父事务，子方法事务为子事务。\n如果异常经过子事务aop，只回滚子事务。如果异常经过父事务aop，则父子事务都回滚。"}]},{type:b,value:c},{type:a,tag:n,props:{id:F},children:[{type:a,tag:f,props:{href:"#requires_new",ariaHidden:g,tabIndex:h},children:[{type:a,tag:i,props:{className:[j,k]},children:[]}]},{type:b,value:r}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"如果父子方法都开启了事务，父子方法的事务各自独立。"}]},{type:b,value:c},{type:a,tag:n,props:{id:G},children:[{type:a,tag:f,props:{href:"#mandatory",ariaHidden:g,tabIndex:h},children:[{type:a,tag:i,props:{className:[j,k]},children:[]}]},{type:b,value:s}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"要求父子方法都要开启事务，那么父方法和子方法是同一个事务，同REQUIRED。\n如果只有子方法开启了事务，则报错。"}]},{type:b,value:c},{type:a,tag:n,props:{id:H},children:[{type:a,tag:f,props:{href:"#supports",ariaHidden:g,tabIndex:h},children:[{type:a,tag:i,props:{className:[j,k]},children:[]}]},{type:b,value:t}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"如果父子方法都开启了事务，同REQUIRED。如果父方法没有开启事务，则父子方法都没有事务。"}]},{type:b,value:c},{type:a,tag:n,props:{id:I},children:[{type:a,tag:f,props:{href:"#not_supported",ariaHidden:g,tabIndex:h},children:[{type:a,tag:i,props:{className:[j,k]},children:[]}]},{type:b,value:u}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"如果父子方法都开启了事务，父方法事务为父事务，子方法事务为子事务。\n即无论异常经过的是父事务还是子事务的aop，只回滚父事务，不回滚子事务。"}]},{type:b,value:c},{type:a,tag:n,props:{id:J},children:[{type:a,tag:f,props:{href:"#never",ariaHidden:g,tabIndex:h},children:[{type:a,tag:i,props:{className:[j,k]},children:[]}]},{type:b,value:v}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"要求父方法不能开启事务，否则报错。"}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:b,value:"参考文章："}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Fjuejin.im\u002Fentry\u002F5a8fe57e5188255de201062b",rel:[O,P,Q],target:R},children:[{type:b,value:"Spring事务传播行为详解"}]}]},{type:b,value:c},{type:a,tag:e,props:{},children:[{type:a,tag:f,props:{href:"http:\u002F\u002Fhara.fun\u002Findex.php\u002Farchives\u002F2159\u002F",rel:[O,P,Q],target:R},children:[{type:b,value:"Spring 事务传播行为 - HANAII BLOG"}]}]}]},excerpt:{type:K,children:[]},dir:S,path:"\u002F框架\u002F20200707\u002FSpring事务总结",extension:".md",title:B,url:"\u002Fblog-code\u002Fview\u002F框架\u002F20200707\u002FSpring事务总结",createAt:new Date(1594080000000),updateAt:new Date(1594080000000),attributes:[{name:"createAt",value:T},{name:"updateAt",value:T},{name:"sort",value:S,url:"\u002Fblog-code\u002Fpage\u002F框架\u002F20200707\u002F1\u002F"}]}}],fetch:{},mutations:void 0}}("element","text","\n","td","p","a","true",-1,"span","icon","icon-link","tr",2,"h2","子事务各自独立","REQUIRED","NESTED","REQUIRES_NEW","MANDATORY","SUPPORTS","NOT_SUPPORTED","NEVER","li","th","strong","父子方法同一事务","无名の窝","Spring事务总结","2020-07-07T00:00:00.000Z","required","nested","requires_new","mandatory","supports","not_supported","never","root","事务传播行为","报错","父子方法各自独立","nofollow","noopener","noreferrer","_blank","\u002F框架\u002F20200707","2020-07-07")));