__NUXT_JSONP__("/archive/0", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB){return {data:[{siteConfig:{siteName:"无名の窝",siteHost:"https:\u002F\u002Fcellargalaxy.github.io",basePath:"\u002Fblog-code\u002F",navs:[{text:"文章",url:cx},{text:"归档",url:"\u002Fblog-code\u002Farchive\u002F0\u002F"},{text:"画画",url:"\u002Fblog-code\u002Fhtml\u002Fhua.html"},{text:"开源",url:"\u002Fblog-code\u002Fhttps:\u002Fgithub.com\u002Fcellargalaxy\u002Fblog-vue"}],pageSize:10,urlReplace:{"^/file/blog/code":"https:\u002F\u002Foracleamd1.dynv6.net\u002Ffile\u002Ffile\u002Fblog\u002Fcode"},backgroundImage:{duration:cy,fade:1000,images:[{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FcofTzDQXitjeVZ6.jpg",description:cz,type:ax},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FsfaRJ2lVeM3NDbE.jpg",description:cz,type:ax},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F26\u002FKybiTdftam5Su7x.jpg",description:"青春猪头-双葉理央",type:ax},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F09\u002F08\u002FxdX73nfs24qgOYk.jpg",description:"京吹-明日香,久美子",type:ax},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F14\u002FMAiruNcEFW2HYtg.jpg",description:"终将成为你-七海灯子,小糸侑",type:ax},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F05\u002FEojdAxTDJsFpbPw.jpg",description:"玉子市场-北白川玉子",type:ax},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F31\u002FAXxwJDRS9fmN2uU.jpg",description:"fate_hf-弓道馆",type:ax},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F01\u002FaHhVObpJus6dnM4.jpg",description:"fate_hf-樱花树",type:ax}]}},homeConfig:{brandInterval:cy,brands:[{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F21\u002FmMEAnwY5XPC2pFb.jpg",title:"日常",texts:["我们所度过的每个平凡的日常，也许就是连续不断发生的奇迹。","日々、私たちが過ごしている日常は、実は奇跡の連続なのかもしれない。"]},{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F04\u002F19\u002FH1MmXb9xPcYEhT2.jpg",title:"昨日之歌",texts:["时间梭梭箭如飞，人道漫漫步蹒跚","人間そんな変わるもんじゃないのに、月日ばっかどんどん過ぎて"]}],navs:[{text:"Github",url:"https:\u002F\u002Fgithub.com\u002Fcellargalaxy\u002F"}]},pageFootConfig:{lines:[[{text:"Copyright © 2017-? ."},{text:"备案？不存在的"},{text:"Powered by Nuxt.js & Github"}]]},buildTime:new Date(1684602532089),startPage:2018,endPage:cA,currentPage:cA,files:[{slug:cB,toc:[],body:{type:ak,children:[{type:b,tag:j,props:{},children:[{type:a,value:"这是关于关于我的页面，一名底层搬砖的程序猿。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"希望有一个自己喜欢的，漂漂亮亮的地方来记录各种东西，所以写了这个博客。当然你可能是在GitHub里看见这句话的，那欢迎光临"},{type:b,tag:i,props:{href:cC,rel:[w,x,y],target:z},children:[{type:a,value:cC}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"不知道写些什么好，就先到这里为止吧。"}]}]},dir:bd,path:"\u002FREADME",extension:al,createdAt:aO,updatedAt:aO,excerpt:ai,title:cB,url:"\u002Fblog-code\u002Fview\u002FREADME\u002F",createAt:new Date(1684602420428),updateAt:new Date(1684602420428),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:bd,url:cx}]},{slug:cD,toc:[{id:be,depth:G,text:be},{id:bf,depth:G,text:bf},{id:bg,depth:G,text:bg},{id:bh,depth:G,text:bh},{id:bi,depth:G,text:bi}],body:{type:ak,children:[{type:b,tag:H,props:{id:be},children:[{type:b,tag:i,props:{href:"#%E6%B7%BB%E5%8A%A0%E5%88%86%E6%9E%90",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:be}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"排查工具我用的是PProf。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"对于web服务的使用，可以对外暴露一个端口拉取分析。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"使用go自带的web服务"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,aB]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aC}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bj}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,aS]},children:[{type:a,value:bU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"net\u002Fhttp\u002Fpprof\""}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"http\""}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,aS]},children:[{type:a,value:bU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" http"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"ListenAndServe"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aS]},children:[{type:a,value:cF}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"使用gin的话，可以使用"},{type:b,tag:k,props:{},children:[{type:a,value:"github.com\u002Fgin-contrib\u002Fpprof"}]},{type:a,value:"包"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,aB]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aC}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bj}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"github.com\u002Fgin-contrib\u002Fpprof\""}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"github.com\u002Fgin-gonic\u002Fgin\""}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:"\n  engine "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bV}]},{type:a,value:" gin"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"Default"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n  debug "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bV}]},{type:a,value:cG},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"Group"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"\u002Fdebug\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n  pprof"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"RouteRegister"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"debug"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"\u002Fpprof\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n\n  "},{type:b,tag:c,props:{className:[d,aS]},children:[{type:a,value:bU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cG},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"Run"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:H,props:{id:bf},children:[{type:b,tag:i,props:{href:"#%E5%88%86%E6%9E%90%E7%B1%BB%E5%9E%8B",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bf}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"这时候打开 "},{type:b,tag:k,props:{},children:[{type:a,value:"http:\u002F\u002F127.0.0.1:6060\u002Fdebug\u002Fpprof\u002F"}]},{type:a,value:" 应该就能看到分析页面"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,au]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fdebug\u002Fpprof\u002F\n\nTypes of profiles available:\nCount Profile\n342   allocs\n0     block\n0     cmdline\n18    goroutine\n342   heap\n0     mutex\n0     profile\n17    threadcreate\n0     trace\nfull goroutine stack dump\n"}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"下面还有一些分析指标的说明"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"allocs：过去分配过的内存分析"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"block：导致阻塞的堆栈"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"cmdline：程序的命令行完整执行调用路径"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"goroutine：当前所有的协程情况"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"heap：当前内存分配情况"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"mutex：当前导致互斥锁竞争的持有者堆栈情况"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"profile：默认30s的CPU的profile"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"threadcreate：查看新创建的OS线程堆栈情况"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:H,props:{id:bg},children:[{type:b,tag:i,props:{href:"#%E5%88%86%E6%9E%90%E5%8F%AF%E8%A7%86%E5%8C%96",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bg}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"可以通过终端交互查看，但还是推荐网页可视化比较省心。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"使用网页可视化前需要安装"},{type:b,tag:k,props:{},children:[{type:a,value:"graphviz"}]},{type:a,value:"来渲染页面。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"使用命令下载并渲染分析，xxx就是上面的某种分析类型。之后后会自动打开浏览器。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,av]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"go tool pprof "},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:"-http"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:":6061 http:\u002F\u002Flocalhost:6060\u002Fdebug\u002Fpprof\u002Fxxx\n"}]}]}]},{type:a,value:e},{type:b,tag:H,props:{id:bh},children:[{type:b,tag:i,props:{href:"#%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9A%84%E8%8F%9C%E5%8D%95",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bh}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"view"}]},{type:a,value:"里有不同的可视化方式，分别是"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Top：会罗列各个方法的资源消耗，点一下可以排序\n"},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"flat：方法自身的资源消耗"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"flat%：方法自身的资源消耗占比"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"sum%：排序后的累加的资源消耗占比"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"cum：方法及其所调用的方法的资源消耗总和"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"cum%：方法及其所调用的方法的资源消耗总和占比"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Name：方法名"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Graph：一个方法调用关系图，框越大消耗越大。第一行是包名，第二行是方法名，第三行是flat+flat%，第四行是cum+cum%"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Flame Graph：火焰图，方法的cum可视化图形"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Peek：相比top，增加了方法的调用者和被调用者"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Source：可以看到源代码，对源代码基本进行分析"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"如果是选择了内存的指标，"},{type:b,tag:k,props:{},children:[{type:a,value:"simple"}]},{type:a,value:"里可以进一步对内存做进一步的过滤"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"alloc_objects：方法的历史内存对象数量"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"alloc_space：方法的历史内存分配大小"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"inuse_objects：方法的当前内存对象数量"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"inuse_space：方法的当前内存分配大小"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:H,props:{id:bi},children:[{type:b,tag:i,props:{href:"#%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bi}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"这里简单看heap的top，在去看看Graph。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,au]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"Flat      Flat%    Sum%    Cum         Cum%    Name Inlined?\n9728.45kB  37.33%  37.33%  9728.45kB   37.33%  context.WithValue    \n5120.08kB  19.65%  56.98%  14848.52kB  56.98%  github.com\u002Fcellargalaxy\u002Fgo_common\u002Futil.SetCtxValue   (inline)\n2562.81kB  9.84%   66.82%  2562.81kB   9.84%   runtime.allocm   \n2560.04kB  9.82%   76.64%  17408.56kB  66.81%  github.com\u002Fcellargalaxy\u002Fgo_common\u002Futil.ResetLogId    \n2449.92kB  9.40%   86.04%  2961.94kB   11.37%  modernc.org\u002Flibc\u002Fhonnef.co\u002Fgo\u002Fnetdb.init.0   \n561.50kB   2.15%   88.20%  17970.06kB  68.96%  github.com\u002Fcellargalaxy\u002Fserver_center\u002Fsdk.flushEvent \n...\n"}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"包含的对象内存最大头的调用链路是"},{type:b,tag:k,props:{},children:[{type:a,value:"flushEvent-\u003EResetLogId-\u003ESetCtxValue-\u003EWithValue"}]},{type:a,value:cH}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"他没有直接告诉我那个对象站内存大。一开始我是没看懂，想不明白。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"后来想啊想啊，想到了我代码里有这么一段代码。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,aB]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aC}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bj}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"context\""}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"flushEvent"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"for"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:"\n    ctx "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cJ}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cJ}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002Fdo something"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:cK},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:a,value:"Context "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002F省略SetCtxValue的逻辑"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:cK},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"WithValue"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"xxx\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"yyy\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"context.Context"}]},{type:a,value:"不是一个map，每次for循环给ctx加值，值会一直累加，不会释放。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"给ctx加的值不大，并且for循环频率不高，所以内存增值是比较缓慢的，符合事件观察的现象。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bZ}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:cL,rel:[w,x,y],target:z},children:[{type:a,value:cL}]}]}]},dir:cM,path:"\u002Fgolang\u002F20220804\u002F记一次go内存泄漏排查",extension:al,createdAt:aO,updatedAt:aO,excerpt:ai,title:cD,url:"\u002Fblog-code\u002Fview\u002Fgolang\u002F20220804\u002F记一次go内存泄漏排查\u002F",createAt:new Date(1684602420428),updateAt:new Date(1684602420428),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:cM,url:"\u002Fblog-code\u002Fpage\u002Fgolang\u002F20220804\u002F1\u002F"}]},{slug:cN,toc:[{id:cO,depth:G,text:cP},{id:bl,depth:G,text:bl},{id:bm,depth:3,text:bm}],body:{type:ak,children:[{type:b,tag:j,props:{},children:[{type:a,value:"1.18的时候，泛型就已经正式支持了，现在golang的版本都到1.20了。\n自己还没怎么了解过，也没怎么用过，就特意 "},{type:b,tag:cQ,props:{},children:[{type:a,value:"（应付公司分享）"}]},{type:a,value:" 翻了一下网上的文档学习一下。"}]},{type:a,value:e},{type:b,tag:H,props:{id:cO},children:[{type:b,tag:i,props:{href:"#go%E6%B3%9B%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:cP}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"例如我们需要写一个，对整形或者浮点比较大小的函数，在不使用泛型的情况下，得写两个函数。\n可以看到这两个函数实际代码一模一样，因为入参的类型不同，而不得不重复写，显然并不优雅。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[aB,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aC}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b_}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aF}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ay}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cR}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ay}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002F 也可以简写为：func MinInt32OrFloat64[T int | float64](a, b T) T {"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:b$},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aF}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ay}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b_}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cR}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:cS}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:cT}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n\n  MinInt32OrFloat64"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002F使用中括号指定类型实参"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:cS}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:cT}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"    "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002F自动进行类型推导"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002FMinInt32OrFloat64(1, 2.2)      \u002F\u002Fdefault type float64 of 2.2 does not match inferred type int for T"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002FMinInt32OrFloat64(1, 2)        \u002F\u002Fint does not implement interface{int32|float64} (int missing in int32 | float64)"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002F显式指定其中一个入参的类型"}]},{type:a,value:"\n\n  minIntFunc "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bV}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002F类型实例化"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cU}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002F泛型的使用不仅可以用在函数里，也可以用在其他类型和方法里。"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:" Slice"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:b$},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:cc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:"T\n\n"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:" Map"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"K "},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:cc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:" V "},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:cV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"map"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"K"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:"V\n\n"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:" Tree"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:b$},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:"\n  left"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:" right "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bp}]},{type:a,value:ce},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:"\n  value       T\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"t "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bp}]},{type:a,value:ce},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"Find"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"x T"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bp}]},{type:a,value:ce},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:cW}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aS]},children:[{type:a,value:cF}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"使用泛型的话，需要在入参前，使用中括号定义一个泛型类型"},{type:b,tag:k,props:{},children:[{type:a,value:aQ}]},{type:a,value:"。\n后面的"},{type:b,tag:k,props:{},children:[{type:a,value:"interface{ int32 | float64 }"}]},{type:a,value:"，表示"},{type:b,tag:k,props:{},children:[{type:a,value:aQ}]},{type:a,value:"可以是"},{type:b,tag:k,props:{},children:[{type:a,value:aF}]},{type:a,value:cX},{type:b,tag:k,props:{},children:[{type:a,value:aG}]},{type:a,value:"。\n调用函数的时候，使用中括号指定泛型的实际类型，称之为"},{type:b,tag:"strong",props:{},children:[{type:a,value:"实例化"}]},{type:a,value:"。\n其中，实例化的过程分为两步进行。"}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"编译器会将泛型函数或者类型里的类型形参，替换为类型实参"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"编译器会检查类型实参是不是满足约束"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"例如经过实例化后的"},{type:b,tag:k,props:{},children:[{type:a,value:cU}]},{type:a,value:"，能像"},{type:b,tag:k,props:{},children:[{type:a,value:b_}]},{type:a,value:"一样使用。"}]},{type:a,value:e},{type:b,tag:H,props:{id:bl},children:[{type:b,tag:i,props:{href:"#%E7%B1%BB%E5%9E%8B%E9%9B%86",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bl}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:cY},{type:b,tag:k,props:{},children:[{type:a,value:aq}]},{type:a,value:"代表的是一组接口的集合。在引入泛型之后，给"},{type:b,tag:k,props:{},children:[{type:a,value:aq}]},{type:a,value:"的能力做了拓展。\n"},{type:b,tag:k,props:{},children:[{type:a,value:aq}]},{type:a,value:"除了是一组接口的集合，还是一直类型的集合。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[aB,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aC}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:cZ},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:cc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aG}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\u002F\u002Ffunc MinInt32OrFloat64[T interface{ int | float64 }](a, b T) T {"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ay}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:c$}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"例如下面这个例子，按我自己理解。"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:cY},{type:b,tag:k,props:{},children:[{type:a,value:bq}]},{type:a,value:da},{type:b,tag:k,props:{},children:[{type:a,value:db}]},{type:a,value:dc},{type:b,tag:k,props:{},children:[{type:a,value:aW}]},{type:a,value:cf},{type:b,tag:k,props:{},children:[{type:a,value:aX}]},{type:a,value:"实现了。但"},{type:b,tag:k,props:{},children:[{type:a,value:aW}]},{type:a,value:dd},{type:b,tag:k,props:{},children:[{type:a,value:aX}]},{type:a,value:dd},{type:b,tag:k,props:{},children:[{type:a,value:bq}]},{type:a,value:"三种的类型之间并没有什么关系"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"在1.18之后，"},{type:b,tag:k,props:{},children:[{type:a,value:bq}]},{type:a,value:da},{type:b,tag:k,props:{},children:[{type:a,value:db}]},{type:a,value:dc},{type:b,tag:k,props:{},children:[{type:a,value:aW}]},{type:a,value:cf},{type:b,tag:k,props:{},children:[{type:a,value:aX}]},{type:a,value:"实现了。并且"},{type:b,tag:k,props:{},children:[{type:a,value:bq}]},{type:a,value:"还有一个类型集合，这个类型集合里包含了"},{type:b,tag:k,props:{},children:[{type:a,value:aW}]},{type:a,value:cf},{type:b,tag:k,props:{},children:[{type:a,value:aX}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"概念虽然不一样，但是实际写起来还是一样的。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[aB,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aC}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:" X "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:" Q "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cd}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"b"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:" P "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cd}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"c"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:cZ},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:"\n  X\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"a T"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:cW}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:br,props:{id:bm},children:[{type:b,tag:i,props:{href:"#%E7%B1%BB%E5%9E%8B%E9%9B%86%E7%9A%84%E8%AF%AD%E6%B3%95",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bm}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"T | K"}]},{type:a,value:"：前后可以接基础类型或者类型集，会取并集"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"~T"}]},{type:a,value:"：表示底层的数据类型需要是"},{type:b,tag:k,props:{},children:[{type:a,value:aQ}]},{type:a,value:"，所以后面直接接基础数据类型"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"any"}]},{type:a,value:"：新加的一个标识符，其实就是"},{type:b,tag:k,props:{},children:[{type:a,value:"interface{}"}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"谷歌的"},{type:b,tag:k,props:{},children:[{type:a,value:"constrains"}]},{type:a,value:"包里提供了一些常用的类型集"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[aB,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aC}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bj}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"golang.org\u002Fx\u002Fexp\u002Fconstraints\""}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Z}]},{type:a,value:" Min"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"T constraints"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:a,value:"Ordered"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ay}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:" Ordered "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:"\n  Integer "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:az}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:az}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:C}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ab}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:"\n  ~"},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:cV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:az}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:aG}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:"hr",props:{},children:[]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:cg}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:di,rel:[w,x,y],target:z},children:[{type:a,value:di}]}]}]},dir:dj,path:"\u002Fgolang\u002F20230219\u002Fgo泛型基础概念与使用",extension:al,createdAt:aO,updatedAt:aO,excerpt:ai,title:cN,url:"\u002Fblog-code\u002Fview\u002Fgolang\u002F20230219\u002Fgo泛型基础概念与使用\u002F",createAt:new Date(1684602420428),updateAt:new Date(1684602420428),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:dj,url:"\u002Fblog-code\u002Fpage\u002Fgolang\u002F20230219\u002F1\u002F"}]},{slug:dk,toc:[],body:{type:ak,children:[{type:b,tag:S,props:{id:"oltp"},children:[{type:b,tag:i,props:{href:"#oltp",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"OLTP"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"Online Transactional Processing，事务型数据库。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"要求实时处理，响应速度快，保证事务的ACID。实际场景中，多会操作少数几行的多列数据，因此适用于行式存储。"}]},{type:a,value:e},{type:b,tag:S,props:{id:"olap"},children:[{type:b,tag:i,props:{href:"#olap",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"OLAP"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"Online analytical processing：分析型数据库。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"对查询速度要求不高，查询也并不频繁，操作多是查询，对修改需求不高。实际场景中，多会查询少数几列的多行数据，因此适用于列式存储。"}]},{type:a,value:e},{type:b,tag:S,props:{id:"htap"},children:[{type:b,tag:i,props:{href:"#htap",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"HTAP"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"Hybrid Transactional\u002FAnalytical Processing：混合型数据库。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"既能支持实时事务特性，也支持大量数据查询分析的性能，一般由三种实现方式。"}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"在应用层对OLTP和OLAP系统进行松耦合，OLTP和OLAP共享一份数据，通过ETL将OLTP的数据同步到OLAP，整体对外表现为HTAP。"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"在数据库层分别使用行存储引擎和列存储引擎，分别负责OLTP和OLAP的功能。存储在物理上隔离，使用一定的协议进行数据同步。是主流的实现方案。"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"使用但一次存储引擎，同时实现OLTP和OLAP。但无论是单使用行存储还是列存储，性能都无法达到较优。"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bZ}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:dl,rel:[w,x,y],target:z},children:[{type:a,value:dl}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:dm,rel:[w,x,y],target:z},children:[{type:a,value:dm}]}]},{type:a,value:e}]},{type:a,value:e}]}]},dir:dn,path:"\u002F中间件\u002F20220428\u002FOLTP、OLAP与HTAP",extension:al,createdAt:aR,updatedAt:aR,excerpt:ai,title:dk,url:"\u002Fblog-code\u002Fview\u002F中间件\u002F20220428\u002FOLTP、OLAP与HTAP\u002F",createAt:new Date(1684602420432),updateAt:new Date(1684602420432),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:dn,url:"\u002Fblog-code\u002Fpage\u002F中间件\u002F20220428\u002F1\u002F"}]},{slug:do0,toc:[],body:{type:ak,children:[{type:b,tag:j,props:{},children:[{type:a,value:"记录一下最近用到了令牌桶来限频。在网上所说的令牌桶的基础上，还有一个很有用的做法。\n是允许一定程度的透支未来的令牌，但取得透支令牌的请求需要sleep一段时间。如果sleep的时间超过了能接受的上限，还是会被频率。\n这样子在sleep的时间范围内，其实起到了削峰填谷的作用。对于一些会一波一波来的请求，能起到平滑的作用。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"下面就直接贴lua脚本"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,au]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u002F\u002F      限频的key\nkeys = [\"qps_limit_xxx\"]\n\u002F\u002F      所取走的令牌数  当前时间，毫秒  最大等待时间，毫秒  令牌桶容量  周期，毫秒\nargs = [1,            now.ts(),    \"3s\".ts(),        100,      1000] \u002F\u002F也就是QPS限制为100\nwait_time = eval(\"lua_script\", keys, args)\n"}]}]}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,"language-lua"]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:" key "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" KEYS"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 限频的key"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 所取走的令牌数"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:" curr_time "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 当前时间，毫秒"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"3"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 最大等待时间，毫秒"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"4"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 令牌桶容量"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:dr},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"5"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 周期，毫秒。即假若桶是空的，经过一个周期，桶就能被填满"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:" rate "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:dr},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 速率，每毫秒生成的令牌数量"}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- key的数据结构是hash，如有，保存着上次取令牌的时间和剩余令牌数"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:" limit "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" redis"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ci}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"HMGET\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ck}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:cl}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:" last_time "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:dt}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aZ}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:du},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:dt}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aZ}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 计算当前令牌数量"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:dv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" math"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"floor"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"curr_time"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:"last_time"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bp}]},{type:a,value:"rate"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 上次取令牌到现在为止，新增了多少令牌"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:du},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"+"}]},{type:a,value:dv},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 现在桶里有多少令牌"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ay}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cm}]},{type:a,value:dw},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" bucket_cap\n"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cn}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 延迟时间判断"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ag}]},{type:a,value:dx},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aZ}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ay}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:c$}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cm}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 如果当前桶里牌数大于要取走的牌数，直接取就好"}]},{type:a,value:dw},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" consume_permit\n    redis"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ci}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:dy}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:cl}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ck}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:dB}]},{type:a,value:"\n    wait_time "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"consume_permit"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:"total_permit"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:"rate "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 需要多久才能生成这些透支的令牌"}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ay}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:af}]},{type:a,value:dx},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cm}]},{type:a,value:"\n        wait_time "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:"wait_time "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"-- 返回\u003C0，代表超出延迟时间，被拦截"}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:dB}]},{type:a,value:"\n        total_permit "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" consume_permit\n        redis"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ci}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:dy}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:cl}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ck}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:J}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cn}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cn}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ae}]},{type:a,value:" wait_time\n"}]}]}]}]},dir:dC,path:"\u002F中间件\u002F20220617\u002Fredis实现令牌桶",extension:al,createdAt:aR,updatedAt:aR,excerpt:ai,title:do0,url:"\u002Fblog-code\u002Fview\u002F中间件\u002F20220617\u002Fredis实现令牌桶\u002F",createAt:new Date(1684602420432),updateAt:new Date(1684602420432),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:dC,url:"\u002Fblog-code\u002Fpage\u002F中间件\u002F20220617\u002F1\u002F"}]},{slug:dD,toc:[{id:bs,depth:G,text:bs},{id:bt,depth:G,text:bt},{id:dE,depth:G,text:dF},{id:dG,depth:G,text:dH},{id:bu,depth:G,text:bu}],body:{type:ak,children:[{type:b,tag:S,props:{id:dI},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#%E5%B7%A6%E4%BE%A7%E8%8F%9C%E5%8D%95",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:dI}]},{type:a,value:e},{type:b,tag:H,props:{id:bs},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#%E5%88%9B%E5%BB%BAdashboard",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bs}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"左边菜单的加号➕里创建一个dashboard，添加一个空的panel"}]},{type:a,value:e},{type:b,tag:S,props:{id:dJ},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#dashboard%E9%85%8D%E7%BD%AE",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:dJ}]},{type:a,value:e},{type:b,tag:H,props:{id:bt},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#%E4%B8%8B%E6%8B%89%E9%80%89%E6%8B%A9",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bt}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"点击右上角齿轮⚙"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"左边菜单的variables，添加一个参数"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Name，Label：随意"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Type：query"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Refresh：随意，一般on time range change"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Query：tag_values(metrics指标名,tag名称)"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Include All option：开启全选，全选的值是*"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"然后在Preview of values里就会罗列目前有哪些值"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:S,props:{id:"query-tab"},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#query-tab",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"Query tab"}]},{type:a,value:e},{type:b,tag:H,props:{id:dE},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#%E4%BD%BF%E7%94%A8metric%E7%94%BB%E5%9B%BE",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:dF}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Metric\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Metric指标名"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Aggregator：不晓得"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Alias：图里展示这条线的别名"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Down sample\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Down sample：将多久时间里的原始数据进行统计"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Aggregator：统计聚合的方式"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Fill：没数据的点怎么填充"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Filters：可以设置多个tag的过滤，包括使用下拉选择来过滤。\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"key即tag名称"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Type见下Bosun比较类型"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"filter：可以写死某个值，如果有个参数叫env，filter可以填$env，则能下拉选择"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Group by：是否对这个参数分组显示"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Tags：推荐使用Filters"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Rate\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Rate：对数据求导，常用于算QPS，默认单位秒\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Counter：不晓得"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Explicit tags：不晓得"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Delta当前点减前一个点\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Counter：不晓得，但是能计算每个Down sample的数量，例如计算QPM"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:H,props:{id:dG},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#%E4%BD%BF%E7%94%A8bosun%E7%94%BB%E5%9B%BE%E8%AE%A1%E7%AE%97xx%E7%8E%87",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:dH}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"Query tab下面选择数据源bosun"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"例如计算成功率，("},{type:b,tag:c,props:{className:[bv,dK]},children:[{type:b,tag:dL,props:{className:[dM],jax:dN},children:[{type:b,tag:dO,props:{style:"vertical-align: -0.566ex;",xmlns:dP,width:"14.279ex",height:"2.262ex",role:dQ,focusable:dR,viewBox:"0 -750 6311.4 1000",xmlnsXLink:dS},children:[{type:b,tag:dT,props:{},children:[{type:b,tag:aj,props:{id:"MJX-1-TEX-I-1D460",d:"M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-1-TEX-I-1D462",d:"M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-1-TEX-I-1D450",d:"M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-1-TEX-I-1D452",d:"M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-1-TEX-N-2B",d:"M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-1-TEX-N-31",d:"M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-1-TEX-N-29",d:"M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-1-TEX-N-2F",d:"M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-1-TEX-N-28",d:"M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"},children:[]}]},{type:b,tag:W,props:{stroke:bw,fill:bw,strokeWidth:aZ,transform:dU},children:[{type:b,tag:W,props:{dataMmlNode:bv},children:[{type:b,tag:W,props:{dataMmlNode:ar},children:[{type:b,tag:_,props:{dataC:co,xLinkHref:cp},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ar,transform:"translate(469,0)"},children:[{type:b,tag:_,props:{dataC:"1D462",xLinkHref:"#MJX-1-TEX-I-1D462"},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ar,transform:"translate(1041,0)"},children:[{type:b,tag:_,props:{dataC:dV,xLinkHref:dW},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ar,transform:"translate(1474,0)"},children:[{type:b,tag:_,props:{dataC:dV,xLinkHref:dW},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ar,transform:"translate(1907,0)"},children:[{type:b,tag:_,props:{dataC:"1D452",xLinkHref:"#MJX-1-TEX-I-1D452"},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ar,transform:"translate(2373,0)"},children:[{type:b,tag:_,props:{dataC:co,xLinkHref:cp},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ar,transform:"translate(2842,0)"},children:[{type:b,tag:_,props:{dataC:co,xLinkHref:cp},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ba,transform:"translate(3533.2,0)"},children:[{type:b,tag:_,props:{dataC:"2B",xLinkHref:"#MJX-1-TEX-N-2B"},children:[]}]},{type:b,tag:W,props:{dataMmlNode:"mn",transform:"translate(4533.4,0)"},children:[{type:b,tag:_,props:{dataC:"31",xLinkHref:"#MJX-1-TEX-N-31"},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ba,transform:"translate(5033.4,0)"},children:[{type:b,tag:_,props:{dataC:"29",xLinkHref:"#MJX-1-TEX-N-29"},children:[]}]},{type:b,tag:W,props:{dataMmlNode:"TeXAtom",dataMjxTexclass:"ORD",transform:"translate(5422.4,0)"},children:[{type:b,tag:W,props:{dataMmlNode:ba},children:[{type:b,tag:_,props:{dataC:"2F",xLinkHref:"#MJX-1-TEX-N-2F"},children:[]}]}]},{type:b,tag:W,props:{dataMmlNode:ba,transform:"translate(5922.4,0)"},children:[{type:b,tag:_,props:{dataC:"28",xLinkHref:"#MJX-1-TEX-N-28"},children:[]}]}]}]}]}]}]},{type:a,value:"all+1)可以令"},{type:b,tag:c,props:{className:[bv,dK]},children:[{type:b,tag:dL,props:{className:[dM],jax:dN},children:[{type:b,tag:dO,props:{style:"vertical-align: -0.186ex;",xmlns:dP,width:"4.934ex",height:"1.756ex",role:dQ,focusable:dR,viewBox:"0 -694 2180.8 776",xmlnsXLink:dS},children:[{type:b,tag:dT,props:{},children:[{type:b,tag:aj,props:{id:"MJX-2-TEX-I-1D44E",d:"M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-2-TEX-I-1D459",d:"M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"},children:[]},{type:b,tag:aj,props:{id:"MJX-2-TEX-N-3D",d:"M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"},children:[]}]},{type:b,tag:W,props:{stroke:bw,fill:bw,strokeWidth:aZ,transform:dU},children:[{type:b,tag:W,props:{dataMmlNode:bv},children:[{type:b,tag:W,props:{dataMmlNode:ar},children:[{type:b,tag:_,props:{dataC:"1D44E",xLinkHref:"#MJX-2-TEX-I-1D44E"},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ar,transform:"translate(529,0)"},children:[{type:b,tag:_,props:{dataC:dX,xLinkHref:dY},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ar,transform:"translate(827,0)"},children:[{type:b,tag:_,props:{dataC:dX,xLinkHref:dY},children:[]}]},{type:b,tag:W,props:{dataMmlNode:ba,transform:"translate(1402.8,0)"},children:[{type:b,tag:_,props:{dataC:"3D",xLinkHref:"#MJX-2-TEX-N-3D"},children:[]}]}]}]}]}]}]},{type:a,value:"success=0时，成功率=100%"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[au,N]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"$all=q(\"sum:1m-sum-zero:rate{counter,,,diff}:metrics指标名{}{env=$env}\", \"$start\", \"\")\n$success=q(\"sum:1m-sum-zero:rate{counter,,,diff}:metrics指标名{}{env=$env}\", \"$start\", \"\")\n\n($success+1)\u002F($all+1)\n"}]}]}]},{type:a,value:e},{type:b,tag:S,props:{id:"transform-tab"},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#transform-tab",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"Transform tab"}]},{type:a,value:e},{type:b,tag:H,props:{id:bu},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#%E5%9B%BE%E6%A0%87%E5%88%AB%E5%90%8D",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bu}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Outer join：不晓得，但得先选，不用选择Field name的下拉框"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Organize fields：可以对图标名称起别名"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:S,props:{id:dZ},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#%E5%9B%BE%E6%A0%87",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:dZ}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"右边Panel里有个Legend，把Show打开即有图标，下面的选项可以选择展示图标的哪些参数"}]},{type:a,value:e},{type:b,tag:S,props:{id:"bosun查询语句格式"},children:[{type:b,tag:i,props:{ariaHidden:p,href:"#bosun%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E6%A0%BC%E5%BC%8F",tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"Bosun查询语句格式"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[au,N]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u003Caggregator\u003E:\u003Cdownsample\u003E:\u003Crate_option\u003E:\u003Ctopk\u003E:\u003Cmetric_name\u003E{\u003Cgroup\u003E}{\u003Cfilter\u003E}\nq(\"sum:30s-sum-zero:rate:xxx.fail{env=*}\", \"1h\", \"\")\n"}]}]}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"aggregator：metrics聚合方式"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"downsample：metrics降采样\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"30s：聚合的时间区间"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"sum：聚合方法"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"zero：空值填充方法"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"rate_option：降采样里的数据的聚合方式，可选\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"应用metircs里面的rate counter, 可以直接写做rate{counter}"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"应用metrics里面的diff，那么写做rate{,,,diff,}"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"应用metrics里面的after_downsample，那么写做rate{,,,,after_downsample}"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Topk：可选\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"例如top-10-max，按照max排序，取前10个"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"metric_name：metric指标名称"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"group：使用tag对数据进行聚合\u002F过滤\n"},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"literal_or：x=literal_or(A|B)：x=(A or B)"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"iliteral_or：大小写不敏感的literal_or"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"not_literal_or：x=not_literal_or(A|B)：x!=(A or B)"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"not_iliteral_or：大小写不敏感的not_literal_or"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"wildcard：通配符，用*占位，一般可以拿来匹配前后缀"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"iwildcard ：大小写不敏感的wildcard"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"regexp：正则"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:b,tag:"style",props:{},children:[{type:a,value:"\nmjx-container[jax=\"SVG\"] {\n  direction: ltr;\n}\n\nmjx-container[jax=\"SVG\"] \u003E svg {\n  overflow: visible;\n  min-height: 1px;\n  min-width: 1px;\n}\n\nmjx-container[jax=\"SVG\"] \u003E svg a {\n  fill: blue;\n  stroke: blue;\n}\n\nmjx-container[jax=\"SVG\"][display=\"true\"] {\n  display: block;\n  text-align: center;\n  margin: 1em 0;\n}\n\nmjx-container[jax=\"SVG\"][display=\"true\"][width=\"full\"] {\n  display: flex;\n}\n\nmjx-container[jax=\"SVG\"][justify=\"left\"] {\n  text-align: left;\n}\n\nmjx-container[jax=\"SVG\"][justify=\"right\"] {\n  text-align: right;\n}\n\ng[data-mml-node=\"merror\"] \u003E g {\n  fill: red;\n  stroke: red;\n}\n\ng[data-mml-node=\"merror\"] \u003E rect[data-background] {\n  fill: yellow;\n  stroke: none;\n}\n\ng[data-mml-node=\"mtable\"] \u003E line[data-line], svg[data-table] \u003E g \u003E line[data-line] {\n  stroke-width: 70px;\n  fill: none;\n}\n\ng[data-mml-node=\"mtable\"] \u003E rect[data-frame], svg[data-table] \u003E g \u003E rect[data-frame] {\n  stroke-width: 70px;\n  fill: none;\n}\n\ng[data-mml-node=\"mtable\"] \u003E .mjx-dashed, svg[data-table] \u003E g \u003E .mjx-dashed {\n  stroke-dasharray: 140;\n}\n\ng[data-mml-node=\"mtable\"] \u003E .mjx-dotted, svg[data-table] \u003E g \u003E .mjx-dotted {\n  stroke-linecap: round;\n  stroke-dasharray: 0,140;\n}\n\ng[data-mml-node=\"mtable\"] \u003E g \u003E svg {\n  overflow: visible;\n}\n\n[jax=\"SVG\"] mjx-tool {\n  display: inline-block;\n  position: relative;\n  width: 0;\n  height: 0;\n}\n\n[jax=\"SVG\"] mjx-tool \u003E mjx-tip {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\nmjx-tool \u003E mjx-tip {\n  display: inline-block;\n  padding: .2em;\n  border: 1px solid #888;\n  font-size: 70%;\n  background-color: #F8F8F8;\n  color: black;\n  box-shadow: 2px 2px 5px #AAAAAA;\n}\n\ng[data-mml-node=\"maction\"][data-toggle] {\n  cursor: pointer;\n}\n\nmjx-status {\n  display: block;\n  position: fixed;\n  left: 1em;\n  bottom: 1em;\n  min-width: 25%;\n  padding: .2em .4em;\n  border: 1px solid #888;\n  font-size: 90%;\n  background-color: #F8F8F8;\n  color: black;\n}\n\nforeignObject[data-mjx-xml] {\n  font-family: initial;\n  line-height: normal;\n  overflow: visible;\n}\n\nmjx-container[jax=\"SVG\"] path[data-c], mjx-container[jax=\"SVG\"] use[data-c] {\n  stroke-width: 3;\n}\n"}]}]},dir:d_,path:"\u002F中间件\u002F20220620\u002Fgrafana与Bosun笔记",extension:al,createdAt:aR,updatedAt:aR,excerpt:ai,title:dD,url:"\u002Fblog-code\u002Fview\u002F中间件\u002F20220620\u002Fgrafana与Bosun笔记\u002F",createAt:new Date(1684602420432),updateAt:new Date(1684602420432),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:d_,url:"\u002Fblog-code\u002Fpage\u002F中间件\u002F20220620\u002F1\u002F"}]},{slug:d$,toc:[{id:bx,depth:G,text:bx},{id:by,depth:G,text:by},{id:bz,depth:G,text:bz}],body:{type:ak,children:[{type:b,tag:S,props:{id:ea},children:[{type:b,tag:i,props:{href:"#2023-02-18",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ea}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"手痒又刷了一下。这次把twrp刷成功了，再简单记录一下。"}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"进bootloader，刷ROM，操作跟下面写的一样。先刷ROM是因为我发现刷ROM会覆盖掉twrp\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"解压ROM的zip包，进bootloader，用最新版fastboot，改改脚本里的fastboot路径，执行脚本"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"进bootloader，刷twrp。操作跟twrp官网里写的一样\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:eb}]},{type:a,value:"，临时启动twrp"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"把twrp的zip文件传到手机里，在twrp安装zip，完成永久刷入"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"之前刷twrp不成功的表现，是boot临时启动twrp后，手机卡在谷歌logo里，进不去twrp\n"},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"这次先用reallysnow的SHRP，永久刷入SHRP"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"之后再刷twrp就能成功启动了"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:S,props:{id:ec},children:[{type:b,tag:i,props:{href:"#%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ec}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"twrp刷入并不成功，目前不晓得啥原因。 但由于没有太需要twrp，所以就先放弃了。 可以直接调到刷rom那步。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"我下载的都是最新的"}]},{type:a,value:e},{type:b,tag:H,props:{id:bx},children:[{type:b,tag:i,props:{href:"#rom%E4%B8%8B%E8%BD%BD",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bx}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"最新的版本貌似永远停留在2020年十二月了。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:ed,rel:[w,x,y],target:z},children:[{type:a,value:ed}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"lineageos还有更新"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:ee,rel:[w,x,y],target:z},children:[{type:a,value:ee}]}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[au,N]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"taimen-rp1a.201005.004.a1-factory-2f5c4987.zip\n"}]}]}]},{type:a,value:e},{type:b,tag:H,props:{id:by},children:[{type:b,tag:i,props:{href:"#%E4%B8%8B%E8%BD%BDtwrp",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:by}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"twrp起码到2022三月还有更新。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:ef,rel:[w,x,y],target:z},children:[{type:a,value:ef}]}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[au,N]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"twrp-3.6.1_9-0-taimen.img\ntwrp-installer-3.6.1_9-0-taimen.zip\n"}]}]}]},{type:a,value:e},{type:b,tag:H,props:{id:bz},children:[{type:b,tag:i,props:{href:"#%E4%B8%8B%E8%BD%BDfastboot",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bz}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"ubuntu安装安卓的fastboot，在安装ROM时提示版本太低，还是去官网下载了个新的"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:eg,rel:[w,x,y],target:z},children:[{type:a,value:eg}]}]},{type:a,value:e},{type:b,tag:S,props:{id:eh},children:[{type:b,tag:i,props:{href:"#%E8%A7%A3%E9%94%81",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:eh}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"待补充。我买到手已经是解锁了的，所以没操作"}]},{type:a,value:e},{type:b,tag:S,props:{id:ei},children:[{type:b,tag:i,props:{href:"#%E6%AD%A5%E9%AA%A4",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ei}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:cq}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:ej}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:cr}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:S,props:{id:cq},children:[{type:b,tag:i,props:{href:"#%E5%88%B7%E5%85%A5%E4%B8%B4%E6%97%B6twrp",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:cq}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"adb devices"}]},{type:a,value:"查看设备列表"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"关机后同时按开机键和音量下键\u002F"},{type:b,tag:k,props:{},children:[{type:a,value:"adb reboot bootloader"}]},{type:a,value:"进入bootloader模式"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:ek}]},{type:a,value:el}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:eb}]},{type:a,value:"刷入"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:S,props:{id:"刷入rom"},children:[{type:b,tag:i,props:{href:"#%E5%88%B7%E5%85%A5rom",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ej}]},{type:a,value:e},{type:b,tag:U,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"解压fastboot工具和rom"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"将解压出来的fastboot文件夹里的全部文件拷贝一份到rom的文件夹里"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"得把fastboot文件夹里全部文件都拷贝，会依赖到文件夹里其他文件，不然刷到中途会失败"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"修改一下"},{type:b,tag:k,props:{},children:[{type:a,value:em}]},{type:a,value:"，改成使用当前路径的fastboot"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"手机进入fastboot模式"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:ek}]},{type:a,value:el}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"直接"},{type:b,tag:k,props:{},children:[{type:a,value:em}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:cX}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[au,N]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"adb sideload taimen-rp1a.201005.004.a1-factory-2f5c4987.zip\n"}]}]}]},{type:a,value:e},{type:b,tag:S,props:{id:cr},children:[{type:b,tag:i,props:{href:"#%E5%88%B7%E5%85%A5%E6%B0%B8%E4%B9%85twrp",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:cr}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"选择高级 \u003E sideload进入sideload"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[au,N]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"adb sideload twrp-installer-3.6.1_9-0-taimen.zip\n"}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"其他"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"这里主要说下进入recovery的方式：首先进入fastboot，然后通过音量键进入recovery，首次进入会看到一个\"no command\"的界面，当出现这个界面后需要长按power键，然后按一下音量up键，这样才能进入recovery模式；"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bZ}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:en,rel:[w,x,y],target:z},children:[{type:a,value:en}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eo,rel:[w,x,y],target:z},children:[{type:a,value:eo}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:ep,rel:[w,x,y],target:z},children:[{type:a,value:ep}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eq,rel:[w,x,y],target:z},children:[{type:a,value:eq}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:bA,rel:[w,x,y],target:z},children:[{type:a,value:bA}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:bA,rel:[w,x,y],target:z},children:[{type:a,value:bA}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:er,rel:[w,x,y],target:z},children:[{type:a,value:er}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:es,rel:[w,x,y],target:z},children:[{type:a,value:es}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"电信破解相关的"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:et,rel:[w,x,y],target:z},children:[{type:a,value:et}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eu,rel:[w,x,y],target:z},children:[{type:a,value:eu}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:ev,rel:[w,x,y],target:z},children:[{type:a,value:ev}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:ew,rel:[w,x,y],target:z},children:[{type:a,value:ew}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:ex,rel:[w,x,y],target:z},children:[{type:a,value:ex}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:ey,rel:[w,x,y],target:z},children:[{type:a,value:ey}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"无需root电信破解"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:ez,rel:[w,x,y],target:z},children:[{type:a,value:ez}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"一代的"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eA,rel:[w,x,y],target:z},children:[{type:a,value:eA}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eB,rel:[w,x,y],target:z},children:[{type:a,value:eB}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eC,rel:[w,x,y],target:z},children:[{type:a,value:eC}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eD,rel:[w,x,y],target:z},children:[{type:a,value:eD}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eE,rel:[w,x,y],target:z},children:[{type:a,value:eE}]}]},{type:a,value:e}]}]},dir:eF,path:"\u002F折腾\u002F20220425\u002FPixel2xl刷机手记",extension:al,createdAt:as,updatedAt:as,excerpt:ai,title:d$,url:"\u002Fblog-code\u002Fview\u002F折腾\u002F20220425\u002FPixel2xl刷机手记\u002F",createAt:new Date(1684602420436),updateAt:new Date(1684602420436),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:eF,url:"\u002Fblog-code\u002Fpage\u002F折腾\u002F20220425\u002F1\u002F"}]},{slug:eG,toc:[{id:bB,depth:G,text:bB},{id:bC,depth:G,text:bC}],body:{type:ak,children:[{type:b,tag:S,props:{id:eH},children:[{type:b,tag:i,props:{href:"#%E9%9C%80%E6%B1%82%E8%83%8C%E6%99%AF",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:eH}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"鄙人有多个谷歌账号，在不同的电脑里使用。\n时间一长，不同账号和电脑的书签就会产生差异，很容易丢书签。\n虽然chrome对同一个账号，能在不同电脑之间同步书签。\n但是如果有设备长时间未离线后同步，会出现把已经删掉的书签又加回去的情况。\n并且我希望书签能在多个账号直接保持同步。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"其实找类似的功能的软件，没有一年也有半年了，始终无果。\n后来我意识到一个问题，不同账号的书签合并，跟合代码一样，是有可能发生冲突的，这个冲突显然没太多的办法进行自动处理。\n便最后还是决定自己写工具来手动定期合并书签罢。"}]},{type:a,value:e},{type:b,tag:S,props:{id:eI},children:[{type:b,tag:i,props:{href:"#chrome%E4%B9%A6%E7%AD%BE%E7%BB%93%E6%9E%84",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:eI}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"从chrome导出的书签html其实只是个xml，折腾xml的结构折腾了好久。\n一是chrome的书签xml结构设计就不好解析，二是go的xml工具还是稀烂的。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"结构式最核心的是"},{type:b,tag:k,props:{},children:[{type:a,value:ah}]},{type:a,value:eJ},{type:b,tag:k,props:{},children:[{type:a,value:ah}]},{type:a,value:"标签有两种类型，分别是链接类型和文件夹类型。"}]},{type:a,value:e},{type:b,tag:H,props:{id:bB},children:[{type:b,tag:i,props:{href:"#%E9%93%BE%E6%8E%A5%E7%B1%BB%E5%9E%8B",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bB}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:ah}]},{type:a,value:"标签里面包住一个"},{type:b,tag:k,props:{},children:[{type:a,value:i}]},{type:a,value:eJ},{type:b,tag:k,props:{},children:[{type:a,value:i}]},{type:a,value:"标签就是书签的具体信息。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[eK,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"attr-name"]},children:[{type:a,value:"href"}]},{type:b,tag:c,props:{className:[d,"attr-value"]},children:[{type:b,tag:c,props:{className:[d,f,"attr-equals"]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:eL}]},{type:a,value:"https:\u002F\u002Fwww.google.com\u002F"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:eL}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:"google"},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aJ}]},{type:a,value:i}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aJ}]},{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:H,props:{id:bC},children:[{type:b,tag:i,props:{href:"#%E6%96%87%E4%BB%B6%E5%A4%B9%E7%B1%BB%E5%9E%8B",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bC}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"文件夹类型的"},{type:b,tag:k,props:{},children:[{type:a,value:ah}]},{type:a,value:"标签里，直接子标签是没有"},{type:b,tag:k,props:{},children:[{type:a,value:i}]},{type:a,value:"标签的。\n而是第一个表示是"},{type:b,tag:k,props:{},children:[{type:a,value:br}]},{type:a,value:"，记录这个文件夹的名称。\n然后再有一个"},{type:b,tag:k,props:{},children:[{type:a,value:bD}]},{type:a,value:"标签，包含着文件夹里所包含的内容。\n文件夹里既可以包含链接也可以包含文件夹，所以在"},{type:b,tag:k,props:{},children:[{type:a,value:bD}]},{type:a,value:"标签所包含的是多个"},{type:b,tag:k,props:{},children:[{type:a,value:ah}]},{type:a,value:"标签。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[eK,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:br}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:"搜索引擎"},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aJ}]},{type:a,value:br}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:eM},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aJ}]},{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:eM},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aJ}]},{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aJ}]},{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,P]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aJ}]},{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ac}]}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:S,props:{id:eO},children:[{type:b,tag:i,props:{href:"#%E4%B9%A6%E7%AD%BE%E8%A7%A3%E6%9E%90",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:eO}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"书签的xml没有id和class，不能直接映射为结构体，书签也不闭合，还需要递归解析，添加了不少难度。\n经过了两天折腾，解析思路是把xml导到"},{type:b,tag:k,props:{},children:[{type:a,value:"github.com\u002FPuerkitoBio\u002Fgoquery"}]},{type:a,value:"当html解析。\n"},{type:b,tag:k,props:{},children:[{type:a,value:eP}]},{type:a,value:"会给xml外面自动包和html、head和body。\n然后"},{type:b,tag:k,props:{},children:[{type:a,value:eP}]},{type:a,value:"的选择器都以body绝对的开始标签，往后加定位标签。相当于用“绝对路径”而不是“相对路径”。\n一开始递归想用“相对路径”，但是翻遍github，go就没库能支持，浪费了很多时间。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"详细看代码吧："},{type:b,tag:i,props:{href:eQ,rel:[w,x,y],target:z},children:[{type:a,value:eQ}]}]},{type:a,value:e},{type:b,tag:S,props:{id:cs},children:[{type:b,tag:i,props:{href:"#%E4%BD%BF%E7%94%A8",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:cs}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"将xml转成csv，对全部书签进行排序，输出到csv文件保持到github上。\n排序的规则的，不考虑请求协议，将域名倒过来，后面再接上path。\n例如"},{type:b,tag:k,props:{},children:[{type:a,value:"https:\u002F\u002Fwww.google.com\u002Fa?b=c#d"}]},{type:a,value:" ，排序的key是 "},{type:b,tag:k,props:{},children:[{type:a,value:"moc.elgoog.www\u002Fa?b=c#d"}]},{type:a,value:"。\n能让域名相近或者二级三级域名的放在一起。\n通过github版本管理管理书签，github上的书签作为冷备份。\n需要使用时将csv转回xml，通过floccus来进行热同步。"}]}]},dir:eR,path:"\u002F折腾\u002F20220430\u002Fchrome书签合并脚本",extension:al,createdAt:as,updatedAt:as,excerpt:ai,title:eG,url:"\u002Fblog-code\u002Fview\u002F折腾\u002F20220430\u002Fchrome书签合并脚本\u002F",createAt:new Date(1684602420436),updateAt:new Date(1684602420436),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:eR,url:"\u002Fblog-code\u002Fpage\u002F折腾\u002F20220430\u002F1\u002F"}]},{slug:eS,toc:[{id:bE,depth:G,text:bE},{id:bF,depth:G,text:bF},{id:bG,depth:G,text:bG},{id:bH,depth:G,text:bH},{id:bI,depth:G,text:bI}],body:{type:ak,children:[{type:b,tag:H,props:{id:bE},children:[{type:b,tag:i,props:{href:"#%E5%88%86%E5%B7%A5",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bE}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"node-exporter：安装在每台主机上，用于收集主机数据"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"prometheus：会去每台主机的node-exporter拉取收集数据"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"grafana：查询prometheus的数据用于展示"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:H,props:{id:bF},children:[{type:b,tag:i,props:{href:"#%E5%AE%89%E8%A3%85exporter",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bF}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"运行起来大约只会消耗10M左右的内存"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eT,rel:[w,x,y],target:z},children:[{type:a,value:eT}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eU,rel:[w,x,y],target:z},children:[{type:a,value:eU}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[av,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"#port=9100"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aN}]},{type:a,value:" node-exporter "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:"--net"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:eV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:"--pid"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:eV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bb}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:eW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nprom\u002Fnode-exporter "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:"--path.rootfs"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:"\u002Fhost\n\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aN}]},{type:a,value:" mysqld-exporter "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"9104"}]},{type:a,value:":9104 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:"DATA_SOURCE_NAME"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"user:pw@(ip:port)\u002F\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nprom\u002Fmysqld-exporter\n\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aN}]},{type:a,value:" redis-exporter "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"9121"}]},{type:a,value:":9121 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bb}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:eW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nbitnami\u002Fredis-exporter "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:"--redis.addr"}]},{type:a,value:" redis:\u002F\u002Fip:port "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:"--redis.password"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"'pw'"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"浏览器打开"},{type:b,tag:k,props:{},children:[{type:a,value:"http:\u002F\u002Fip:9100\u002Fmetrics"}]},{type:a,value:" ，如果有东西就算安装完了"}]},{type:a,value:e},{type:b,tag:H,props:{id:bG},children:[{type:b,tag:i,props:{href:"#%E5%AE%89%E8%A3%85prometheus",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bG}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eX,rel:[w,x,y],target:z},children:[{type:a,value:eX}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:eY,rel:[w,x,y],target:z},children:[{type:a,value:eY}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"配置文件，看网上说数据默认过期是30日，但是没找到通过配置文件修改过期时间的方法"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[av,N]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"global:\n  scrape_interval: 1m "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"#默认情况下抓取目标的频率"}]},{type:a,value:"\n  scrape_timeout: 10s "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"#刮取请求超时的时间"}]},{type:a,value:"\n  evaluation_interval: 1m "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"#评估规则的频率"}]},{type:a,value:"\n\nscrape_configs: "},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"#抓取配置列表"}]},{type:a,value:"\n  - job_name: linux\n    metrics_path: "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"'\u002Fmetrics'"}]},{type:a,value:"\n    basic_auth:\n      username: "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:eZ}]},{type:a,value:"\n      password: "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:eZ}]},{type:a,value:"\n    static_configs:\n      - targets: "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"'ip:port'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:"\n        labels:\n          instance: 实例名称\n"}]}]}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[av,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aN}]},{type:a,value:" prometheus "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"9090"}]},{type:a,value:":9090 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bb}]},{type:a,value:" \u002Fprometheus.yml:\u002Fetc\u002Fprometheus\u002Fprometheus.yml "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nprom\u002Fprometheus\n"}]}]}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"http:\u002F\u002Fip:9090\u002Fmetrics"}]},{type:a,value:e_}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"http:\u002F\u002Fip:9090\u002Fgraph"}]},{type:a,value:e_}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"http:\u002F\u002Fip:9090\u002Ftargets"}]},{type:a,value:" ：有机器列表，有"},{type:b,tag:k,props:{},children:[{type:a,value:"UP"}]},{type:a,value:"就是正常"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:H,props:{id:bH},children:[{type:b,tag:i,props:{href:"#grafana%E5%AE%89%E8%A3%85",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bH}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"略过"}]},{type:a,value:e},{type:b,tag:H,props:{id:bI},children:[{type:b,tag:i,props:{href:"#grafana%E9%85%8D%E7%BD%AE",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bI}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"在左边菜单的齿轮进入plugins，安装prometheus插件。\n填URL、Basic auth，HTTP Method选GET。最后save and test。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"下载grafana模板的json。\n推荐用"},{type:b,tag:i,props:{href:"https:\u002F\u002Fgrafana.com\u002Fgrafana\u002Fdashboards\u002F8919%E7%9A%842020%E5%B9%B4%E7%89%88%E6%9C%AC%EF%BC%8C2022%E7%89%88%E6%9C%AC%E5%A5%BD%E5%83%8F%E6%9C%89bug%EF%BC%8C%E7%A3%81%E7%9B%98%E6%95%B0%E6%8D%AE%E6%B2%A1%E6%98%BE%E7%A4%BA%E3%80%82",rel:[w,x,y],target:z},children:[{type:a,value:"https:\u002F\u002Fgrafana.com\u002Fgrafana\u002Fdashboards\u002F8919的2020年版本，2022版本好像有bug，磁盘数据没显示。"}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"在左边dashboards菜单里，选import，导入刚下载的json文件。\nVictoriaMetrics选刚创建的prometheus数据源。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:cg}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:e$,rel:[w,x,y],target:z},children:[{type:a,value:e$}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:fa,rel:[w,x,y],target:z},children:[{type:a,value:fa}]}]},{type:a,value:e}]}]},dir:fb,path:"\u002F折腾\u002F20220702\u002Fgrafana+prometheus+node-exporter搭建监控",extension:al,createdAt:as,updatedAt:as,excerpt:ai,title:eS,url:"\u002Fblog-code\u002Fview\u002F折腾\u002F20220702\u002Fgrafana+prometheus+node-exporter搭建监控\u002F",createAt:new Date(1684602420436),updateAt:new Date(1684602420436),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:fb,url:"\u002Fblog-code\u002Fpage\u002F折腾\u002F20220702\u002F1\u002F"}]},{slug:fc,toc:[{id:bJ,depth:G,text:bJ},{id:bK,depth:G,text:bK},{id:bL,depth:G,text:bL}],body:{type:ak,children:[{type:b,tag:j,props:{},children:[{type:a,value:"我没有苹果系的东西，app的密码基本我都是自己记的，对密码同步需求几乎都在汗牛充栋的web密码。\n一直以来都有听闻各种密码管理器，1Password、keepass的，但由于感觉迁移有风险"},{type:b,tag:cQ,props:{},children:[{type:a,value:"懒"}]},{type:a,value:"，所以一直在使用谷歌浏览器来同步密码。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"直到在v2ex看了篇文章"},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.v2ex.com\u002Ft\u002F872745",rel:[w,x,y],target:z},children:[{type:a,value:"chrome 密码泄漏了， 才知道用 chrome 保存密码等于裸奔"}]},{type:a,value:"。\n对于谷歌浏览器的明文存储还是太过震撼。还是铁定了心迁移吧。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"选型直接选v2ex文章里介绍的bitwarden（vaultwarden）了。\nbitwarden是一套服务端客户端都开源的密码管理套件。\n但官方的服务端资源消耗太大，所以有人用rust重写过了服务端，原名bitwarden_rs，现改名叫vaultwarden。\nvaultwarden直接提供docker镜像，存储默认使用sqlite。"}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:fd,rel:[w,x,y],target:z},children:[{type:a,value:fd}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:fe,rel:[w,x,y],target:z},children:[{type:a,value:fe}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:"https:\u002F\u002Frs.ppgg.in\u002F",rel:[w,x,y],target:z},children:[{type:a,value:"Vaultwarden Wiki 中文版"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:H,props:{id:bJ},children:[{type:b,tag:i,props:{href:"#%E5%AE%89%E8%A3%85",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bJ}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"先启动服务，进"},{type:b,tag:k,props:{},children:[{type:a,value:"ip:port:7808"}]},{type:a,value:"就可以注册。这里得先注册一个账号。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[av,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:" volume create vaultwarden_data\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aN}]},{type:a,value:ff},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bb}]},{type:a,value:" vaultwarden_data:\u002Fdata "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:fg}]},{type:a,value:fh},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nvaultwarden\u002Fserver:alpine\n\n\n"}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"注册完之后，就能进入个人页面了。\n但显然这样子阿猫阿狗都能来注册，是不行的。\n我们把实例删掉，加两个环境变量，禁止新用户注册和不允许邀请用户，再创建一个新的实例。\n新实例起来之后，就不能在注册了。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[av,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aN}]},{type:a,value:ff},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:"SIGNUPS_ALLOWED"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:fi},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:"INVITATIONS_ALLOWED"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:fi},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bb}]},{type:a,value:" vaultwarden_data:\u002Fdata\u002F "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:fg}]},{type:a,value:fh},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nvaultwarden\u002Fserver:alpine\n"}]}]}]},{type:a,value:e},{type:b,tag:H,props:{id:bK},children:[{type:b,tag:i,props:{href:"#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BD%BF%E7%94%A8",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bK}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"待体验"}]},{type:a,value:e},{type:b,tag:H,props:{id:bL},children:[{type:b,tag:i,props:{href:"#%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bL}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:cs},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Fttionya\u002Fvaultwarden-backup\u002Fblob\u002Fmaster\u002FREADME_zh.md",rel:[w,x,y],target:z},children:[{type:a,value:"vaultwarden-backup"}]},{type:a,value:"来备份。\n这个docker镜像使用rclone来将备份的问题推送到远端。看来看去还有有个webdav比较方便。\n首先需要在vaultwarden的机器里执行个命令，通过rclone来生成远端链接的配置，配置会保存在一个volume里。\n创建的这个配置的名称，官方文档推荐叫"},{type:b,tag:k,props:{},children:[{type:a,value:fj}]},{type:a,value:cH}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[av,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:fk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:fl}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:ct}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:fm},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nrclone config\n"}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"配完之后可以这样来检查是否配置成功"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[av,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:fk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:fl}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:ct}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:fm},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nrclone config show\n\n"},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"# webdav example"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:fj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,X,"class-name"]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" webdav\nurl "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" https:\u002F\u002Fcom.com\u002F\nvendor "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" other\nuser "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" admin\npass "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:" admin\n"}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"接下来，vaultwarden的实例名称需要叫"},{type:b,tag:k,props:{},children:[{type:a,value:"vaultwarden"}]},{type:a,value:"，否则要在"},{type:b,tag:k,props:{},children:[{type:a,value:"--volumes-from"}]},{type:a,value:"里指定。\n环境变量一定得加，默认就不是vaultwarden默认的路径。默认设每小时的05分自动备份。"}]},{type:a,value:e},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[av,N]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ad}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aN}]},{type:a,value:" vaultwarden_backup "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\n--volumes-from"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:"vaultwarden "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:ct}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:"TIMEZONE"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"Asia\u002FShanghai\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:"DATA_DIR"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"\u002Fdata\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:"CRON"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"5 * * * *\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:"ZIP_PASSWORD"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"WHEREISMYPASSWORD?\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,A,n]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ap,n]},children:[{type:a,value:"BACKUP_KEEP_DAYS"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\"30\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:"\nttionya\u002Fvaultwarden-backup\n"}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:cg}]},{type:a,value:e},{type:b,tag:Y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:fn,rel:[w,x,y],target:z},children:[{type:a,value:fn}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:fo,rel:[w,x,y],target:z},children:[{type:a,value:fo}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:"https:\u002F\u002Flaosu.ml\u002F2020\u002F07\u002F18\u002F%E7%94%A8bitwarden%E8%87%AA%E5%BB%BA%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F\u002F",rel:[w,x,y],target:z},children:[{type:a,value:"https:\u002F\u002Flaosu.ml\u002F2020\u002F07\u002F18\u002F用bitwarden自建密码管理系统\u002F"}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{href:"https:\u002F\u002Fblog.ous50.moe\u002F2021\u002F03\u002F12\u002Fvaultwarden%E6%90%AD%E5%BB%BA\u002F",rel:[w,x,y],target:z},children:[{type:a,value:"https:\u002F\u002Fblog.ous50.moe\u002F2021\u002F03\u002F12\u002Fvaultwarden搭建\u002F"}]}]},{type:a,value:e}]}]},dir:fp,path:"\u002F折腾\u002F20220824\u002F安装bitwardenrs密码管理器",extension:al,createdAt:as,updatedAt:as,excerpt:ai,title:fc,url:"\u002Fblog-code\u002Fview\u002F折腾\u002F20220824\u002F安装bitwardenrs密码管理器\u002F",createAt:new Date(1684602420436),updateAt:new Date(1684602420436),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:fp,url:"\u002Fblog-code\u002Fpage\u002F折腾\u002F20220824\u002F1\u002F"}]},{slug:fq,toc:[{id:bM,depth:G,text:bM},{id:bN,depth:G,text:bN},{id:bO,depth:G,text:bO},{id:bP,depth:G,text:bP},{id:bQ,depth:G,text:bQ},{id:ad,depth:G,text:ad},{id:bR,depth:G,text:bR},{id:bS,depth:G,text:bS},{id:bT,depth:G,text:bT}],body:{type:ak,children:[{type:b,tag:H,props:{id:bM},children:[{type:b,tag:i,props:{href:"#%E6%9B%B4%E6%96%B0%E6%BA%90",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bM}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:fr,rel:[w,x,y],target:z},children:[{type:a,value:fr}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo apt update -y\nsudo apt upgrade -y\nsudo apt install vim -y"}]},{type:a,value:e},{type:b,tag:H,props:{id:bN},children:[{type:b,tag:i,props:{href:"#%E8%BE%93%E5%85%A5%E6%B3%95",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bN}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo apt-get install -y fcitx-bin\nsudo apt-get install -y fcitx-table\nim-config -n fcitx\nreboot"}]},{type:a,value:e},{type:b,tag:S,props:{id:fs},children:[{type:b,tag:i,props:{href:"#%E8%B0%B7%E6%AD%8C",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:fs}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo apt-get install -y fcitx-googlepinyin fcitx-module-cloudpinyin"}]},{type:a,value:e},{type:b,tag:S,props:{id:ft},children:[{type:b,tag:i,props:{href:"#%E9%85%8D%E7%BD%AE%E8%BE%93%E5%85%A5%E6%B3%95",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ft}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"fcitx-config-gtk3"}]},{type:a,value:e},{type:b,tag:H,props:{id:bO},children:[{type:b,tag:i,props:{href:"#%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bO}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:fu,rel:[w,x,y],target:z},children:[{type:a,value:fu}]}]},{type:a,value:e},{type:b,tag:H,props:{id:bP},children:[{type:b,tag:i,props:{href:"#%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bP}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo apt-get install -y guake\nsudo apt install -y mpv\nsudo apt-get install -y htop"}]},{type:a,value:e},{type:b,tag:H,props:{id:bQ},children:[{type:b,tag:i,props:{href:"#gnome-tweak",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bQ}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo apt install -y gnome-tweaks\nsudo apt-get install chrome-gnome-shell"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"天气："},{type:b,tag:i,props:{href:fv,rel:[w,x,y],target:z},children:[{type:a,value:fv}]},{type:a,value:"\n系统监控："},{type:b,tag:i,props:{href:fw,rel:[w,x,y],target:z},children:[{type:a,value:fw}]},{type:a,value:"\n系统监控依赖：sudo apt install gir1.2-gtop-2.0 gir1.2-nm-1.0 gir1.2-clutter-1.0 gnome-system-monitor"}]},{type:a,value:e},{type:b,tag:H,props:{id:ad},children:[{type:b,tag:i,props:{href:"#docker",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ad}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"curl -fsSL get.docker.com -o get-docker.sh\nsudo sh get-docker.sh --mirror Aliyun\nsudo systemctl enable docker\nsudo systemctl start docker"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo vim \u002Fetc\u002Fdocker\u002Fdaemon.json\n{\n\"registry-mirrors\": [\n\""},{type:b,tag:i,props:{href:fx,rel:[w,x,y],target:z},children:[{type:a,value:fx}]},{type:a,value:"\"\n],\n\"log-driver\":\"json-file\",\n\"log-opts\": {\"max-size\":\"5m\", \"max-file\":\"3\"}\n}"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo groupadd docker #添加docker用户组\nsudo gpasswd -a $USER docker #将登陆用户加入到docker用户组中\nnewgrp docker #更新用户组\ndocker run --rm hello-world"}]},{type:a,value:e},{type:b,tag:H,props:{id:bR},children:[{type:b,tag:i,props:{href:"#%E4%B8%BB%E9%A2%98",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bR}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo apt install -y arc-theme"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo add-apt-repository ppa:numix\u002Fppa\nsudo apt update\nsudo apt install -y numix-icon-theme-circle"}]},{type:a,value:e},{type:b,tag:H,props:{id:bS},children:[{type:b,tag:i,props:{href:"#shell",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bS}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:b,tag:i,props:{href:fy,rel:[w,x,y],target:z},children:[{type:a,value:fy}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo apt install zsh\nsh -c \"$(curl -fsSL "},{type:b,tag:i,props:{href:fz,rel:[w,x,y],target:z},children:[{type:a,value:fz}]},{type:a,value:")\""}]},{type:a,value:e},{type:b,tag:H,props:{id:bT},children:[{type:b,tag:i,props:{href:"#%E6%88%AA%E5%9B%BE",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bT}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"sudo apt install flameshot"}]},{type:a,value:e},{type:b,tag:S,props:{id:fA},children:[{type:b,tag:i,props:{href:"#%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%90%AF%E5%8A%A8%E6%88%AA%E5%9B%BE",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:fA}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"flameshot gui"}]}]},dir:fB,path:"\u002F折腾\u002F安装ubuntu22常用软件手记",extension:al,createdAt:as,updatedAt:as,excerpt:ai,title:fq,url:"\u002Fblog-code\u002Fview\u002F折腾\u002F安装ubuntu22常用软件手记\u002F",createAt:new Date(1684602420436),updateAt:new Date(1684602420436),attributes:[{name:am,value:T},{name:an,value:T},{name:ao,value:fB,url:"\u002Fblog-code\u002Fpage\u002F折腾\u002F1\u002F"}]}]}],fetch:{},mutations:ai}}("text","element","span","token","\n","punctuation"," ","li","a","p","code","keyword","operator","variable","function","true",-1,"icon","icon-link","(",")","=","nofollow","noopener","noreferrer","_blank","parameter","\\","string","\n  ","{","}",2,"h2","comment",",","div","nuxt-content-highlight","pre","line-numbers","number","tag","[","]","h1","2023-05-20","ol","\n\n","g","builtin","ul","func","use",".","\n    ","type","\u003E","docker","return","\u003C","local","dt",void 0,"path","root",".md","createAt","updateAt","sort","assign-left","interface","mi","2023-05-20T17:07:00.436Z","sudo","language-text","language-shell"," run ","wide","if","|","-e","language-go","package"," main\n\n"," b ","int32","float64","1","tonumber","\u003C\u002F","-d","--restart","always ","--name","2023-05-20T17:07:00.428Z","2","T","2023-05-20T17:07:00.432Z","boolean"," a "," a\n  "," b\n","Q","P","ARGV","0","-"," total_permit ","mo","-v","-p","\u002F","添加分析","分析类型","分析可视化","可视化的菜单","原因分析","import","main","类型集","类型集的语法"," MinInt32OrFloat64","MinInt32OrFloat64","*","X","h3","创建dashboard","下拉选择","图标别名","math","currentColor","rom下载","下载twrp","下载fastboot","https:\u002F\u002Fblog.csdn.net\u002Fweixin_45472158\u002Farticle\u002Fdetails\u002F108441357","链接类型","文件夹类型","dl","分工","安装exporter","安装prometheus","grafana安装","grafana配置","安装","客户端使用","数据备份","更新源","输入法","谷歌浏览器","其他软件","gnome-tweak","主题","shell","截图","_",":=","ctx context","Context","ctx","参考文献","MinInt32","T "," b T"," T ","int","struct","Tree","和","参考文章"," bucket_cap ","pcall"," key","\"last_time\"","\"curr_permit\"","then","end","1D460","#MJX-1-TEX-I-1D460","刷入临时twrp","刷入永久twrp","使用","--mount","volume,source","vaultwarden-rclone-data,target","\u002Fconfig\u002F ","\u002Fblog-code\u002Fpage\u002F1\u002F",10000,"青春猪头-牧之原翔子-江之岛",2023,"README","https:\u002F\u002Fcode.cellargalaxy.top\u002F","记一次go内存泄漏排查","\":6060\"","nil"," engine","。","ResetLogId","flush"," context","https:\u002F\u002Fgolang2.eddycjy.com\u002Fposts\u002Fch6\u002F01-pprof-1\u002F","\u002Fgolang\u002F20220804","go泛型基础概念与使用","go泛型的使用","GO泛型的使用","del","MinFloat64","1.1","2.2","minIntFunc","float32","\u002F\u002F...","或者","在1.18之前，"," Value ","T Value","\u003C=","有一个叫","a()","的接口，","，","this Q","this P"," Float "," ~","https:\u002F\u002Fwww.liwenzhou.com\u002Fposts\u002FGo\u002Fgenerics\u002F","\u002Fgolang\u002F20230219","OLTP、OLAP与HTAP","https:\u002F\u002Fcloud.tencent.com\u002Fdeveloper\u002Farticle\u002F1706006","https:\u002F\u002Fblog.51cto.com\u002Fkymdidicom\u002F3145671","\u002F中间件\u002F20220428","redis实现令牌桶"," consume_permit "," max_wait "," period ","limit","or"," curr_permit "," new_permit ","\n    total_permit "," wait_time ","\"HMSET\""," total_permit"," curr_time","else","\u002F中间件\u002F20220617","grafana与Bosun笔记","使用metric画图","使用Metric画图","使用bosun画图计算xx率","使用Bosun画图(计算XX率)","左侧菜单","dashboard配置","math-inline","mjx-container","MathJax","SVG","svg","http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg","img","false","http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink","defs","scale(1,-1)","1D450","#MJX-1-TEX-I-1D450","1D459","#MJX-2-TEX-I-1D459","图标","\u002F中间件\u002F20220620","Pixel2xl刷机手记","2023-02-18","fastboot boot twrp-3.6.1_9-0-taimen.img","前期准备","https:\u002F\u002Fdevelopers.google.com\u002Fandroid\u002Fimages#taimen","https:\u002F\u002Fdownload.lineageos.org\u002Ftaimen","https:\u002F\u002Ftwrp.me\u002Fgoogle\u002Fgooglepixel2xl.html","https:\u002F\u002Fdeveloper.android.com\u002Fstudio\u002Freleases\u002Fplatform-tools","解锁","步骤","刷入ROM","fastboot devices","检查设备列表","flash-all.sh","https:\u002F\u002Freallysnow.moe\u002Farchives\u002F244.html","https:\u002F\u002Flemisky.github.io\u002F2020\u002F11\u002F30\u002FPixel-XL-%E5%88%B7%E6%9C%BA%E7%9B%B8%E5%85%B3\u002F","https:\u002F\u002Fwww.jianshu.com\u002Fp\u002F4017e9d6541c","https:\u002F\u002Fwww.itfanr.cc\u002F2018\u002F10\u002F16\u002Fgoogle-pixel-unlock-bl-and-root\u002F","https:\u002F\u002Fblog.csdn.net\u002Fachirandliu\u002Farticle\u002Fdetails\u002F105028423","https:\u002F\u002Fceshidao.com\u002Fhow-to-get-magisk-working-on-pixel-2-xl\u002F","https:\u002F\u002Fsandyfffeng.com\u002F2020\u002F05\u002F24\u002Fgoogle-pixel-2-%E7%A0%B4%E8%A7%A3%E7%94%B5%E4%BF%A14g-%E5%85%A8%E6%95%99%E7%A8%8B%EF%BC%88mac-windows-%E9%80%9A%E7%94%A8%EF%BC%89\u002F","https:\u002F\u002Fblog.isteed.cc\u002Fpost\u002F4291184207\u002F","https:\u002F\u002Fgist.github.com\u002Fcoeusite\u002F86f6318c13c5bc15aef13345f1bb3ed4","https:\u002F\u002Fwww.jianshu.com\u002Fp\u002F075ed256a85d","https:\u002F\u002Fwww.v2ex.com\u002Ft\u002F395935","https:\u002F\u002Fwww.v2ex.com\u002Ft\u002F598302","https:\u002F\u002Fandroid.poppur.com\u002Fjiaocheng\u002F10416.html","https:\u002F\u002Fwww.berlinchan.com\u002F2019\u002F09\u002Fupdate-android-10-and-flash-modem-for-china-telecom-4g","https:\u002F\u002Fwww.somedoc.net\u002F?p=4263","http:\u002F\u002Fwww.gandalf.site\u002F2018\u002F11\u002Fgoogle-pixel-4g.html","https:\u002F\u002Fwww.v2ex.com\u002Ft\u002F429528","https:\u002F\u002Fericclose.github.io\u002FPixel-modem-mod-for-China-Telecom.html","\u002F折腾\u002F20220425","chrome书签合并脚本","需求背景","chrome书签结构","标签，","language-xml","\"","\n        ","...","书签解析","goquery","https:\u002F\u002Fgithub.com\u002Fcellargalaxy\u002Fgo_common\u002Fblob\u002Fmain\u002Ftool\u002Fbookmark.go","\u002F折腾\u002F20220430","grafana+prometheus+node-exporter搭建监控","https:\u002F\u002Fgithub.com\u002Fprometheus\u002Fnode_exporter","https:\u002F\u002Fhub.docker.com\u002Fr\u002Fprom\u002Fnode-exporter","\"host\"","\"\u002F:\u002Fhost:ro,rslave\"","https:\u002F\u002Fprometheus.io\u002Fdocs\u002Fprometheus\u002Flatest\u002Finstallation\u002F","https:\u002F\u002Fhub.docker.com\u002Fr\u002Fprom\u002Fprometheus","'admin'"," ：有页面显示","https:\u002F\u002Fblog.csdn.net\u002Fqq_37688023\u002Farticle\u002Fdetails\u002F106532101","https:\u002F\u002Fwww.fyovo.com\u002F6180.html","\u002F折腾\u002F20220702","安装bitwardenrs密码管理器","https:\u002F\u002Fgithub.com\u002Fdani-garcia\u002Fvaultwarden","https:\u002F\u002Fhub.docker.com\u002Fr\u002Fvaultwarden\u002Fserver"," vaultwarden ","7808",":80 ","false ","BitwardenBackup","--rm","-it","\nttionya\u002Fvaultwarden-backup ","https:\u002F\u002Fwww.psay.cn\u002Ftoss\u002F136.html","https:\u002F\u002Fblog.im.ci\u002Fstudy-notes\u002F880\u002F","\u002F折腾\u002F20220824","安装ubuntu22常用软件手记","https:\u002F\u002Fmirrors.tuna.tsinghua.edu.cn\u002Fhelp\u002Fubuntu\u002F","谷歌","配置输入法","https:\u002F\u002Fwww.google.com\u002Fintl\u002Fzh-CN\u002Fchrome\u002F","https:\u002F\u002Fextensions.gnome.org\u002Fextension\u002F750\u002Fopenweather\u002F","https:\u002F\u002Fextensions.gnome.org\u002Fextension\u002F120\u002Fsystem-monitor\u002F","https:\u002F\u002Fdockerproxy.com","https:\u002F\u002Fgithub.com\u002Fohmyzsh\u002Fohmyzsh","https:\u002F\u002Fraw.githubusercontent.com\u002Fohmyzsh\u002Fohmyzsh\u002Fmaster\u002Ftools\u002Finstall.sh","快捷键启动截图","\u002F折腾")));