__NUXT_JSONP__("/view/$E7$AE$97$E6$B3$95/20191015/Python$E6$B7$B1$E5$BA$A6$E5$AD$A6$E4$B9$A0$E7$AC$94$E8$AE$B0", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af){return {data:[{siteConfig:{siteName:I,siteHost:"https:\u002F\u002Fcellargalaxy.github.io",basePath:"\u002Fblog-code\u002F",navs:[{text:"文章",url:"\u002Fblog-code\u002Fpage\u002F1\u002F"},{text:"归档",url:"\u002Fblog-code\u002Farchive\u002F0\u002F"},{text:"画画",url:"\u002Fblog-code\u002Fhtml\u002Fhua.html"},{text:"开源",url:"\u002Fblog-code\u002Fhttps:\u002Fgithub.com\u002Fcellargalaxy\u002Fblog-vue"}],pageSize:10,urlReplace:{"^/file/blog/code":"http:\u002F\u002F123.207.79.108\u002Ffile\u002Ffile\u002Fblog\u002Fcode"},backgroundImage:{duration:J,fade:1000,images:[{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FcofTzDQXitjeVZ6.jpg",description:K,type:o},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F25\u002FsfaRJ2lVeM3NDbE.jpg",description:K,type:o},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F26\u002FKybiTdftam5Su7x.jpg",description:"青春猪头-双葉理央",type:o},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F09\u002F08\u002FxdX73nfs24qgOYk.jpg",description:"京吹-明日香,久美子",type:o},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F14\u002FMAiruNcEFW2HYtg.jpg",description:"终将成为你-七海灯子,小糸侑",type:o},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F05\u002FEojdAxTDJsFpbPw.jpg",description:"玉子市场-北白川玉子",type:o},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F31\u002FAXxwJDRS9fmN2uU.jpg",description:"fate_hf-弓道馆",type:o},{url:"https:\u002F\u002Fi.loli.net\u002F2020\u002F02\u002F01\u002FaHhVObpJus6dnM4.jpg",description:"fate_hf-樱花树",type:o}]}},homeConfig:{brandInterval:J,brands:[{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F01\u002F21\u002FmMEAnwY5XPC2pFb.jpg",title:"日常",texts:["我们所度过的每个平凡的日常，也许就是连续不断发生的奇迹。","日々、私たちが過ごしている日常は、実は奇跡の連続なのかもしれない。"]},{imageUrl:"https:\u002F\u002Fi.loli.net\u002F2020\u002F04\u002F19\u002FH1MmXb9xPcYEhT2.jpg",title:"昨日之歌",texts:["时间梭梭箭如飞，人道漫漫步蹒跚","人間そんな変わるもんじゃないのに、月日ばっかどんどん過ぎて"]}],navs:[{text:"Github",url:"https:\u002F\u002Fgithub.com\u002Fcellargalaxy\u002F"}]},pageFootConfig:{lines:[[{text:"Copyright © 2017-? ."},{text:"备案？不存在的"},{text:"Powered by Nuxt.js & Github"}]]},buildTime:new Date(1652873659693),siteName:I,file:{slug:L,description:"",createdAt:M,updatedAt:M,toc:[],body:{type:N,children:[{type:a,value:m},{type:b,tag:O,props:{className:[P]},children:[{type:b,tag:Q,props:{className:[R,"language-python"]},children:[{type:b,tag:S,props:{},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" numpy "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"as"}]},{type:a,value:" np\n"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:y}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" layers\n"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:y}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" models\n"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:y}]},{type:a,value:" keras"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"datasets "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:w}]},{type:a,value:" imdb\n\n"},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"# 仅保留训练数据中前 10 000 个最常出现的单词,便于处理"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" train_labels"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" test_labels"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:" imdb"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"load_data"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"num_words"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"# train_data和test_data的结构是[3, 5]，转换为one-hot"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"def"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,"function"]},children:[{type:a,value:"vectorize_sequences"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n    results "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"zeros"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"len"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"for"}]},{type:a,value:" i"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" sequence "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"in"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"enumerate"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n        results"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:"i"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" sequence"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"1."}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"return"}]},{type:a,value:" results\n\n\nx_train "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"\nx_test "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"# 将标签数组转换为浮点的向量"}]},{type:a,value:"\ny_train "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"train_labels"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"\ny_test "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"test_labels"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"\n\nmodel "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:" models"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"Sequential"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" input_shape"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"1"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'sigmoid'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"\n\nmodel"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"compile"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"optimizer"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'rmsprop'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" loss"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'binary_crossentropy'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" metrics"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"'accuracy'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"# 从训练集里哇一部分作为验证集"}]},{type:a,value:"\nx_val "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"\npartial_x_train "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"\ny_val "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"\npartial_y_train "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"\n\nhistory "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:a,value:" model"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"fit"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"partial_x_train"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" partial_y_train"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" epochs"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"10"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" batch_size"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"512"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" validation_data"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"x_val"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" y_val"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:m}]}]}]},{type:a,value:m},{type:b,tag:O,props:{className:[P]},children:[{type:b,tag:Q,props:{className:[R,"language-text"]},children:[{type:b,tag:S,props:{},children:[{type:a,value:"Epoch 1\u002F20\n15000\u002F15000 [==============================] - 3s 188us\u002Fstep - loss: 0.5439 - accuracy: 0.7667 - val_loss: 0.4117 - val_accuracy: 0.8565\n"}]}]}]},{type:a,value:m},{type:b,tag:"ol",props:{},children:[{type:a,value:m},{type:b,tag:v,props:{},children:[{type:a,value:"在20次迭代，可以看到验证集的val_loss的val_accuracy最好结果停留在第四次迭代，之后就过拟合了"}]},{type:a,value:m},{type:b,tag:v,props:{},children:[{type:a,value:"增加层，会令最优迭代提前，最结果影响貌似不大"}]},{type:a,value:m},{type:b,tag:v,props:{},children:[{type:a,value:"增加层的单元，最优迭代不变，会令结果变差，反之则反之"}]},{type:a,value:m},{type:b,tag:v,props:{},children:[{type:a,value:"将binary_crossentropy用mse替代，感觉比binary_crossentropy变化要平稳，貌似没那么多跳动"}]},{type:a,value:m},{type:b,tag:v,props:{},children:[{type:a,value:"将relu用tanh替代，没什么太大感觉，但貌似最优迭代提前了"}]},{type:a,value:m}]}]},excerpt:{type:N,children:[]},dir:ae,path:"\u002F算法\u002F20191015\u002FPython深度学习笔记",extension:".md",title:L,url:"\u002Fblog-code\u002Fview\u002F$E7$AE$97$E6$B3$95\u002F20191015\u002FPython$E6$B7$B1$E5$BA$A6$E5$AD$A6$E4$B9$A0$E7$AC$94$E8$AE$B0\u002F",createAt:new Date(1571097600000),updateAt:new Date(1571097600000),attributes:[{name:"createAt",value:af},{name:"updateAt",value:af},{name:"sort",value:ae,url:"\u002Fblog-code\u002Fpage\u002F$E7$AE$97$E6$B3$95\u002F20191015\u002F1\u002F"}]}}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation","(",")","operator","=",",",".","number","\n","keyword","wide","string","10000"," ",":","[","]","li","import","comment","from","\n\n","sequences"," np","builtin","\nmodel","add","layers","Dense"," activation","无名の窝",10000,"青春猪头-牧之原翔子-江之岛","Python深度学习笔记","2019-10-15T00:00:00.000Z","root","div","nuxt-content-highlight","pre","line-numbers","code"," keras ","train_data","test_data"," dimension","\n    "," vectorize_sequences","asarray","astype","'float32'","16","'relu'"," x_train"," y_train","\u002F算法\u002F20191015","2019-10-15")));